(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.g)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return Ja}),n.d(e,"c",function(){return Ga}),n.d(e,"d",function(){return za}),n.d(e,"e",function(){return $a}),n.d(e,"f",function(){return zu}),n.d(e,"g",function(){return Ru}),n.d(e,"h",function(){return Yo}),n.d(e,"i",function(){return uu}),n.d(e,"j",function(){return _o}),n.d(e,"k",function(){return tu}),n.d(e,"l",function(){return To}),n.d(e,"m",function(){return pr}),n.d(e,"n",function(){return Ia}),n.d(e,"o",function(){return Wi}),n.d(e,"p",function(){return wn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return tn}),n.d(e,"s",function(){return hs}),n.d(e,"t",function(){return Ho}),n.d(e,"u",function(){return $o}),n.d(e,"v",function(){return Xa}),n.d(e,"w",function(){return aa}),n.d(e,"x",function(){return Fu}),n.d(e,"y",function(){return oa}),n.d(e,"z",function(){return xu}),n.d(e,"A",function(){return hu}),n.d(e,"B",function(){return Sn}),n.d(e,"C",function(){return Ya}),n.d(e,"D",function(){return Wa}),n.d(e,"E",function(){return Io}),n.d(e,"F",function(){return Co}),n.d(e,"G",function(){return vr}),n.d(e,"H",function(){return xo}),n.d(e,"I",function(){return cr}),n.d(e,"J",function(){return En}),n.d(e,"K",function(){return Vu}),n.d(e,"L",function(){return na}),n.d(e,"M",function(){return vu}),n.d(e,"N",function(){return nn}),n.d(e,"O",function(){return jo}),n.d(e,"P",function(){return ko}),n.d(e,"Q",function(){return ca}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return ku}),n.d(e,"T",function(){return Iu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Cu}),n.d(e,"W",function(){return Bu}),n.d(e,"X",function(){return wu}),n.d(e,"Y",function(){return Za}),n.d(e,"Z",function(){return Ji}),n.d(e,"ab",function(){return so}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return ar}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Dn}),n.d(e,"fb",function(){return Pn}),n.d(e,"gb",function(){return Vn}),n.d(e,"hb",function(){return Ln}),n.d(e,"ib",function(){return Fn}),n.d(e,"jb",function(){return Mn}),n.d(e,"kb",function(){return eo}),n.d(e,"lb",function(){return qu}),n.d(e,"mb",function(){return no}),n.d(e,"nb",function(){return ro}),n.d(e,"ob",function(){return Rn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return ws}),n.d(e,"rb",function(){return Ps}),n.d(e,"sb",function(){return Ds}),n.d(e,"tb",function(){return Rs}),n.d(e,"ub",function(){return to}),n.d(e,"vb",function(){return It}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return Nn}),n.d(e,"yb",function(){return ds}),n.d(e,"zb",function(){return wt}),n.d(e,"Ab",function(){return yo}),n.d(e,"Bb",function(){return ei}),n.d(e,"Cb",function(){return Ts}),n.d(e,"Db",function(){return Bs}),n.d(e,"Eb",function(){return Ua}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return S}),n.d(e,"Ib",function(){return E}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return Cs}),n.d(e,"Mb",function(){return js}),n.d(e,"Nb",function(){return ks}),n.d(e,"Ob",function(){return xs}),n.d(e,"Pb",function(){return Ns}),n.d(e,"Qb",function(){return We}),n.d(e,"Rb",function(){return Ys}),n.d(e,"Sb",function(){return vn}),n.d(e,"Tb",function(){return Je}),n.d(e,"Ub",function(){return Ha}),n.d(e,"Vb",function(){return Fs}),n.d(e,"Wb",function(){return qa}),n.d(e,"Xb",function(){return Vs}),n.d(e,"Yb",function(){return Ta}),n.d(e,"Zb",function(){return Oa}),n.d(e,"ac",function(){return Is}),n.d(e,"bc",function(){return Va}),n.d(e,"cc",function(){return $t}),n.d(e,"dc",function(){return lr}),n.d(e,"ec",function(){return st}),n.d(e,"fc",function(){return Os}),n.d(e,"gc",function(){return Ks}),n.d(e,"hc",function(){return Qs}),n.d(e,"ic",function(){return Ws});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return O(t,I)||O(t,x)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const I=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function P(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||V||U,H={},z=[],$=[],G=l({"\u0275cmp":l}),K=l({"\u0275dir":l}),Q=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),J=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let X=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function st(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(J)?t[J]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Et}function Et(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}let Ct;function It(t){Ct=t}function At(t){return!!t.listen}wt.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function Dt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Pt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function zt(){return qt.lFrame.tView}function $t(t){qt.lFrame.contextLView=t}function Gt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return qt.lFrame.currentTNode}function Qt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return qt.lFrame.isParent}function Yt(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Zt(){return qt.lFrame.bindingIndex++}function Xt(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){qt.lFrame.currentDirectiveIndex=t}function ee(){return qt.lFrame.currentQueryIndex}function ne(t){qt.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=oe(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return qt.lFrame.selectedIndex}function fe(t){qt.lFrame.selectedIndex=t}function de(){const t=qt.lFrame;return Dt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){ve(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const _e=-1;class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Te(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ce(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ce(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return t!==_e}function Ae(t){return 32767&t}function xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function je(t){const e=ke;return ke=t,e}let Ne=0;function De(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Fe(t,e),s=t.injectorIndex;if(Ie(i)){const t=Ae(i),n=xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _e;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _e}function Le(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Ne++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Me(t,e,n){if(n&j.Optional)return t;w(e,"NodeInjector")}function Ve(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&j.Optional):R(e,r,n&j.Optional)}finally{D(s)}}return Me(r,e,n)}function Ue(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof s){if(!ie(e,t,r))return r&j.Host?Me(i,n,r):Ve(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;w(n)}finally{ce()}}else if("number"==typeof s){let i=null,o=Pe(t,e),a=_e,u=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?Fe(t,e):e[o+8],a!==_e&&Ke(r,!1)?(i=e[1],o=Ae(a),e=xe(a,e)):o=-1);-1!==o;){const t=e[1];if(Ge(s,o,t.data)){const t=He(o,e,n,i,r,u);if(t!==qe)return t}a=e[o+8],a!==_e&&Ke(r,e[1].data[o+8]===u)&&Ge(s,o,e)?(i=t,o=Ae(a),e=xe(a,e)):o=-1}}}return Ve(e,n,r,i)}const qe={};function Be(){return new Qe(Gt(),Ht())}function He(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=ze(a,o,n,null==r?mt(a)&&ke:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?$e(e,o,u,a):qe}function ze(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function $e(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof we){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=je(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;ie(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),je(a),o.resolving=!1,ce()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ke(t,e){return!(t&j.Self||t&j.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ue(this._tNode,this._lView,t,void 0,e)}}function We(t){return P(()=>{const e=t.prototype.constructor,n=e[J]||Ye(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||Ye(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return y(t)?()=>{const e=Ye(m(t));return e&&e()}:bt(t)}function Je(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ee(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const Ze="__parameters__";function Xe(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e,n){let r=ln(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function cn(t,e){const n=ln(t,e);if(n>=0)return t[1|n]}function ln(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const hn={},fn=/\n/gm,dn="__source",pn=l({provide:String,useValue:l});let gn;function mn(t){const e=gn;return gn=t,e}function yn(t,e=j.Default){if(void 0===gn)throw new Error("inject() must be called from an injection context");return null===gn?R(t,void 0,e):gn.get(t,e&j.Optional?null:void 0,e)}function vn(t,e=j.Default){return(N||yn)(m(t),e)}function bn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function _n(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const wn=_n(Xe("Inject",t=>({token:t})),-1),Sn=_n(Xe("Optional"),8),En=_n(Xe("SkipSelf"),4);let Tn;function On(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class Cn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class In extends Cn{getTypeName(){return"HTML"}}class An extends Cn{getTypeName(){return"Style"}}class xn extends Cn{getTypeName(){return"Script"}}class kn extends Cn{getTypeName(){return"URL"}}class jn extends Cn{getTypeName(){return"ResourceURL"}}function Nn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Rn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Rn(t){return t instanceof Cn&&t.getTypeName()||null}function Pn(t){return new In(t)}function Fn(t){return new An(t)}function Ln(t){return new xn(t)}function Mn(t){return new kn(t)}function Vn(t){return new jn(t)}class Un{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Bn)||t.match(Hn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=$n("area,br,col,hr,img,wbr"),Qn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=$n("rp,rt"),Yn=Gn(Wn,Qn),Jn=Gn(Kn,Gn(Qn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Wn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Zn=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=$n("srcset"),tr=Gn(Zn,Xn,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=$n("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!tr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Zn[s]&&(o=zn(o)),Xn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(rr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function ar(t,e){let n=null;try{or=or||function(t){const e=new qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new Un(e):e}(t);let r=e?String(e):"";n=or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==s);return On((new nr).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":Dn(t,"URL")?Nn(t):zn(b(t))}function hr(t){return t.ngDebugContext}function fr(t){return t.ngOriginalError}function dr(t,...e){t.error(...e)}class pr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(fr(t)):null}_findOriginalError(t){let e=fr(t);for(;e&&fr(e);)e=fr(e);return e}}function gr(t,e){t.__ngContext__=e}const mr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function yr(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function br(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return pt(e)?e[3]:e}function wr(t){return Er(t[13])}function Sr(t){return Er(t[4])}function Er(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?jr(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Dr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==kt(n)&&Tr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Vr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Or(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Cr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Ir(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Cr(s,r),e>0&&(t[n-1][4]=r[4]);const o=an(t,ft+e);Vr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Vr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return xr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&xr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):kt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Cr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function kr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Nr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):jr(t,e,n)}function Dr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Rr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Nr(s,i,n[a],o,!1);else Nr(s,i,n,o,!1)}function Pr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Lr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Pr(t,n);{const n=t[e.index];return pt(n)?Lr(-1,n):kt(n)}}if(32&n)return br(e,t)()||kt(t[e.index]);{const n=Fr(t,e);return null!==n?Array.isArray(n)?n[0]:Pr(_r(t[16]),n):Pr(t,e.next)}}return null}function Fr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Lr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Pr(t,r)}return e[7]}function Mr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&gr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Mr(t,e,n.child,r,i,s,!1),Tr(e,t,i,a,s);else if(32&u){const o=br(n,r);let u;for(;u=o();)Tr(e,t,i,u,s);Tr(e,t,i,a,s)}else 16&u?Ur(t,e,r,n,i,s):Tr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vr(t,e,n,r,i,s){Mr(n,r,t.firstChild,e,i,s,!1)}function Ur(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],s);else Mr(t,e,a,o[3],i,s,!0)}function qr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Br(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const zr="ng-template";function $r(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Hr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Gr(t){return 4===t.type&&t.value!==zr}function Kr(t,e,n){return e===(4!==t.type||n?t.value:zr)}function Qr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Kr(t,u,n)||""===u&&1===e.length){if(Wr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$r(t.attrs,c,n)){if(Wr(r))return!1;o=!0}continue}const l=Yr(8&r?"class":u,i,Gr(t),n);if(-1===l){if(Wr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Hr(e,c,0)||2&r&&c!==t){if(Wr(r))return!1;o=!0}}}}else{if(!o&&!Wr(r)&&!Wr(u))return!1;if(o&&Wr(u))continue;o=!1,r=u|1&r}}return Wr(r)||o}function Wr(t){return 0==(1&t)}function Yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function Zr(t,e){return t?":not("+e.trim()+")":e}function Xr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Wr(o)||(e+=Zr(s,i),i=""),r=o,s=s||!Wr(r);n++}return""!==i&&(e+=Zr(s,i)),e}const ti={};function ei(t){ni(zt(),Ht(),he()+t,Yt())}function ni(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}fe(n)}function ri(t,e){return t<<17|e<<2}function ii(t){return t>>17&32767}function si(t){return 2|t}function oi(t){return(131068&t)>>2}function ai(t,e){return-131069&t|e<<2}function ui(t){return 1|t}function ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ne(i),n.contentQueries(2,e[s],s)}}}function li(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function hi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Kt(),o=Wt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Qt(s,!0),s}function fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function di(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&Bi(1,r,n);const i=t.template;null!==i&&mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ci(t,e),t.staticViewQueries&&Bi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function pi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const s=Yt();try{Vt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&mi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ye(e,0)}if(function(t){for(let e=wr(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=Sr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&pi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ci(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,s=n[++t],o=n[++t];Xt(s,i),o(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Pi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Bi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{le()}}function gi(t,e,n,r){const i=e[10],s=!Yt(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&di(t,e,r),pi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function mi(t,e,n,r,i){const s=he(),o=2&r;try{fe(-1),o&&e.length>ht&&ni(t,e,ht,Yt()),n(r,i)}finally{fe(s)}}function yi(t,e,n){Bt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||De(n,e),gr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&ji(e,n,r);const u=$e(e,t,a,n);gr(u,e),null!==o&&Ni(0,a-i,u,r,0,o),s&&(Rt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qt.lFrame.currentDirectiveIndex;try{fe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ci(r,i)}}finally{fe(-1),te(o)}}(t,e,n))}function vi(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function bi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=_i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function _i(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ti);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function wi(t,e,n,r){const i=zi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&$i(t).push(r,i.length-1))}function Si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ei(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ki(t,n,c,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(Bt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Jr(n,o.selectors,!1)&&(i||(i=[]),Le(De(n,e),t,o.type),vt(o)?(Ii(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,xi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=fi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),ki(t,n,e,u,c),Ai(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Gr(e)?null:Di(n,i);s.push(c),o=Si(n,u,o),a=Si(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Oe(n.mergedAttrs,n.attrs),i}function Oi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ii(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function xi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ki(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new we(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Oi(t,e,0,r,fi(t,n,i.hostVars,ti),i)}function ji(t,e,n){const r=Nt(e,t),i=bi(n),s=t[10],o=Mi(t,li(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ni(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Di(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ri(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Pi(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?pi(t,n,t.template,n[8]):n[5]>0&&Fi(n)}}function Fi(t){for(let n=wr(t);null!==n;n=Sr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];pi(t,e,t.template,e[8])}else e[5]>0&&Fi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&Fi(r)}}function Li(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Vi(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ui(t,e,n){const r=e[10];r.begin&&r.begin();try{pi(t,e,t.template,n)}catch(i){throw Gi(e,i),i}finally{r.end&&r.end()}}function qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Pt(n),i=r[1];gi(i,r,i.template,n)}}(t[8])}function Bi(t,e,n){ne(0),e(t,n)}const Hi=(()=>Promise.resolve(null))();function zi(t){return t[7]||(t[7]=[])}function $i(t){return t.cleanup||(t.cleanup=[])}function Gi(t,e){const n=t[9],r=n?n.get(pr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Wi=new tn("INJECTOR",-1);class Yi{get(t,e=hn){if(e===hn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new tn("Set Injector scope."),Zi={},Xi={},ts=[];let es;function ns(){return void 0===es&&(es=new Yi),es}function rs(t,e=null,n=null,r){return new is(t,n,e||ns(),r)}class is{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Wi,as(void 0,this));const s=this.records.get(Ji);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=hn,n=j.Default){this.assertNotDestroyed();const r=mn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&T(t);e=n&&this.injectableDefInScope(n)?as(ss(t),Zi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?ns():this.parent).get(t,e=n&j.Optional&&e===hn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[dn]&&i.unshift(e[dn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{mn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||ts))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,as(a,Zi));const u=r.providers;if(null!=u&&!o){const e=t;sn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=cs(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return us(t)?as(void 0,t.useValue):as(os(t),Zi)}(t);if(cs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=as(void 0,Zi,!0),e.factory=()=>bn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Zi&&(e.value=Xi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ss(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof tn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function os(t,e,n){let r;if(cs(t)){const e=m(t);return bt(e)||ss(e)}if(us(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...bn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ss(e);r=()=>new e(...bn(t.deps))}var i;return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function us(t){return null!==t&&"object"==typeof t&&pn in t}function cs(t){return"function"==typeof t}const ls=function(t,e,n){return function(t,e=null,n=null,r){const i=rs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let hs=(()=>{class t{static create(t,e){return Array.isArray(t)?ls(t,e,""):ls(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=hn,t.NULL=new Yi,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>vn(Wi)}),t.__NG_ELEMENT_ID__=-1,t})();function fs(t,e){pe(Pt(t)[1],Gt())}function ds(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ps(t.inputs),e.declaredInputs=ps(t.declaredInputs),e.outputs=ps(t.outputs);const n=i.hostBindings;n&&ys(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&gs(t,s),o&&ms(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ds&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function ps(t){return t===H?{}:t===$?[]:t}function gs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ms(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ys(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let vs=null;function bs(){if(!vs){const t=B.Symbol;if(t&&t.iterator)vs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vs=n)}}}return vs}class _s{constructor(t){this.wrapped=t}static wrap(t){return new _s(t)}static unwrap(t){return _s.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof _s}}function ws(t){return!!Ss(t)&&(Array.isArray(t)||!(t instanceof Map)&&bs()in t)}function Ss(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Es(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ts(t,e,n,r){const i=Ht();return Es(i,Zt(),e)&&(zt(),function(t,e,n,r,i,s){const o=Nt(t,e);!function(t,e,n,r,i,s,o){if(null==s)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(de(),i,t,e,n,r)),Ts}function Os(t,e,n,r,i,s,o,a){const u=Ht(),c=zt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=hi(e,t,4,o||null,Mt(c,a));Ti(e,n,l,Mt(c,u)),pe(e,l);const h=l.tViews=_i(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qt(h,!1);const f=u[11].createComment("");Rr(c,u,f,h),gr(f,u),Mi(u,u[l]=Ri(f,u,f,h)),yt(h)&&yi(c,u,h),null!=o&&vi(u,h,a)}function Cs(t,e=j.Default){const n=Ht();return null===n?vn(t,e):Ue(Gt(),n,m(t),e)}function Is(t,e,n){const r=Ht();return Es(r,Zt(),e)&&Ei(zt(),de(),r,t,e,r[11],n,!1),Is}function As(t,e,n,r,i){const s=i?"class":"style";Ki(t,n,e.inputs[s],s,r)}function xs(t,e,n,r){const i=Ht(),s=zt(),o=ht+t,a=i[11],u=i[o]=Or(a,e,qt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=hi(e,t,2,i,Mt(a,s));return Ti(e,n,u,Mt(a,o)),null!==u.attrs&&Qi(u,u.attrs,!1),null!==u.mergedAttrs&&Qi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Se(a,u,l);const h=c.classes;null!==h&&Br(a,u,h);const f=c.styles;null!==f&&qr(a,u,f),64!=(64&c.flags)&&Rr(s,i,u,c),0===qt.lFrame.elementDepthCount&&gr(u,i),qt.lFrame.elementDepthCount++,yt(c)&&(yi(s,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&vi(i,c)}function ks(){let t=Gt();Wt()?qt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(pe(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&As(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&As(n,e,Ht(),e.stylesWithoutHost,!1)}function js(t,e,n,r){xs(t,e,n,r),ks()}function Ns(){return Ht()}function Ds(t){return!!t&&"function"==typeof t.then}function Rs(t){return!!t&&"function"==typeof t.subscribe}const Ps=Rs;function Fs(t,e,n=!1,r){const i=Ht(),s=zt(),o=Gt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&$i(t),l=zi(e);let h=!0;if(3&r.type){const f=Nt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(At(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ms(r,e,0,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Ms(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Ms(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Fs}function Ls(t,e,n,r){try{return!1!==n(r)}catch(i){return Gi(t,i),!1}}function Ms(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Vi(o);let a=Ls(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ls(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Vs(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function Us(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ii(s):oi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];qs(t[a],e)&&(u=!0,t[a+1]=r?ui(n):si(n)),a=r?ii(n):oi(n)}u&&(t[n+1]=r?si(s):ui(s))}function qs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ln(t,e)>=0}function Bs(t,e){return function(t,e,n,r){const i=Ht(),s=zt(),o=function(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[he()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=zs(n=Hs(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Hs(i,t,e,n,r),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==oi(r))return t[ii(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Hs(null,t,e,n[1],r),n=zs(n,e.attrs,r),function(t,e,n,r){t[ii(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=zs(r,t[s].hostAttrs,true);return zs(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=e.classBindings,a=ii(o),u=oi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ln(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ii(t[a+1]);t[r+1]=ri(e,a),0!==e&&(t[e+1]=ai(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ri(a,0),0!==a&&(t[a+1]=ai(t[a+1],r)),a=r;else t[r+1]=ri(u,0),0===a?a=r:t[u+1]=ai(t[u+1],r),u=r;l&&(t[r+1]=si(t[r+1])),Us(t,c,r,!0),Us(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&ln(s,e)>=0&&(n[r+1]=ui(n[r+1]))}(e,c,t,r),o=ri(a,u),e.classBindings=o}(i,s,e,n,o)}}(s,t,o,true),e!==ti&&Es(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Gs(1==(1&c)?$s(u,e,n,i,oi(c),o):void 0)||(Gs(s)||function(t){return 2==(2&t)}(c)&&(s=$s(u,null,n,i,a,o)),function(t,e,n,r,i){const s=At(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,jt(he(),n),i,s))}(s,s.data[he()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(Nn(t))),t}(e),true,o)}(t,e),Bs}function Hs(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=zs(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,o,!!n||e[++s]))}return void 0===t?null:t}function $s(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ti&&(l=c?z:void 0);let h=c?cn(l,r):u===r?l:void 0;if(s&&!Gs(h)&&(h=cn(e,r)),Gs(h)&&(a=h,o))return a;const f=t[i+1];i=o?ii(f):oi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=cn(t,r))}return a}function Gs(t){return void 0!==t}function Ks(t,e=""){const n=Ht(),r=zt(),i=t+ht,s=r.firstCreatePass?hi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rr(r,n,o,s),Qt(s,!1)}function Qs(t){return Ws("",t,""),Qs}function Ws(t,e,n){const r=Ht(),i=function(t,e,n,r){return Es(t,Zt(),n)?e+b(n)+r:ti}(r,t,e,n);return i!==ti&&function(t,e,n){const r=jt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),Ws}function Ys(t,e,n){const r=Ht();return Es(r,Zt(),e)&&Ei(zt(),de(),r,t,e,r[11],n,!0),Ys}const Js=void 0;var Zs=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xs={};function to(t,e,n){"string"!=typeof e&&(n=e,e=t[so.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Xs[e]=t,n&&(Xs[e][so.ExtraData]=n)}function eo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=io(e);if(n)return n;const r=e.split("-")[0];if(n=io(r),n)return n;if("en"===r)return Zs;throw new Error(`Missing locale data for the locale "${t}".`)}function no(t){return eo(t)[so.CurrencyCode]||null}function ro(t){return eo(t)[so.PluralCase]}function io(t){return t in Xs||(Xs[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Xs[t]}var so=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oo="en-US";let ao=oo;function uo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ao=t.toLowerCase().replace(/_/g,"-"))}function co(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)co(t[s],e,n,r,i);else{const s=zt(),o=Ht();let a=cs(t)?t:m(t.provide),u=os(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(cs(t)||!t.multi){const r=new we(u,i,Cs),d=fo(a,e,i?l:l+f,h);-1===d?(Le(De(c,o),s,a),lo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=fo(a,e,l+f,h),p=fo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Le(De(c,o),s,a);const l=function(t,e,n,r,i){const s=new we(t,n,Cs);return s.multi=[],s.index=e,s.componentProviders=0,ho(s,i,r&&!n),s}(i?go:po,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),lo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else lo(s,t,d>-1?d:p,ho(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function lo(t,e,n,r){const i=cs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ho(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function po(t,e,n,r){return mo(this.multi,[])}function go(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),mo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],mo(i,s);return s}function mo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function yo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=vt(t);co(n,r.data,r.blueprint,i,!0),co(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class vo{}class bo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let _o=(()=>{class t{}return t.NULL=new bo,t})();function wo(...t){}function So(t,e){return new To(Nt(t,e))}const Eo=function(){return So(Gt(),Ht())};let To=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Eo,t})();function Oo(t){return t instanceof To?t.nativeElement:t}class Co{}let Io=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ao(),t})();const Ao=function(){const t=Ht(),e=Rt(Gt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let xo=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const jo=new ko("11.2.14");class No{constructor(){}supports(t){return ws(t)}create(t){return new Ro(t)}}const Do=(t,e)=>e;class Ro{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Do}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Mo(n,r,i)?e:n,o=Mo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ws(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[bs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Po(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Lo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Po{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Lo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Vo{constructor(){}supports(t){return t instanceof Map||Ss(t)}create(){return new Uo}}class Uo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ss(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class qo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bo(){return new Ho([new No])}let Ho=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Bo()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Bo}),t})();function zo(){return new $o([new Vo])}let $o=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||zo()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:zo}),t})();function Go(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(kt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Go(e[1],e,n,r)}const o=n.type;if(8&o)Go(t,e,n.child,r);else if(32&o){const t=br(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Fr(e,n);if(Array.isArray(t))r.push(...t);else{const n=_r(e[16]);Go(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ko{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Go(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ir(t,n),an(e,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(t){wi(this._lView[1],this._lView,null,t)}markForCheck(){Vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ui(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Ui(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Vr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qo extends Ko{constructor(t){super(t),this._view=t}detectChanges(){qi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{qi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Wo=Jo;let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wo,t.__ChangeDetectorRef__=!0,t})();function Jo(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new Ko(n,n)}return 47&t.type?new Ko(e[16],e):null}(Gt(),Ht(),t)}const Zo=[new Vo],Xo=new Ho([new No]),ta=new $o(Zo),ea=function(){return sa(Gt(),Ht())};let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ea,t})();const ra=na,ia=class extends ra{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),di(e,n,t),new Ko(n)}};function sa(t,e){return 4&t.type?new ia(e,t,So(t,e)):null}class oa{}class aa{}const ua=function(){return pa(Gt(),Ht())};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t})();const la=ca,ha=class extends la{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(Ie(t)){const e=xe(t,this._hostLView),n=Ae(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=fa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(oa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ha(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],on(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Lr(i,s),a=n[11],u=Dr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Vr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),on(da(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=fa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);n&&(an(da(this._lContainer),e),Ar(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);return n&&null!=an(da(this._lContainer),e)?new Ko(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function fa(t){return t[8]}function da(t){return t[8]||(t[8]=[])}function pa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);kr(n,Dr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ri(r,e,i,t),Mi(e,n)}return new ha(n,t,e)}const ga={};class ma extends _o{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new ba(e,this.ngModule)}}function ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const va=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mr});class ba extends vo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Xr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ya(this.componentDef.inputs)}get outputs(){return ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ga,i);return s!==ga||r===ga?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Co,xt),o=i.get(xo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:mr,clean:Hi,playerHandler:null,flags:0},f=_i(0,null,null,1,0,null,null,null,null,null),d=li(null,f,h,l,null,null,s,a,o,i);let p,g;se(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=hi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Qi(a,u,!0),null!==t&&(Se(i,t,u),null!==a.classes&&Br(i,t,a.classes),null!==a.styles&&qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=li(n,bi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Le(De(a,n),o,e.type),Ii(o,a),xi(a,n.length,1)),Mi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Se(a,c,["ng-version",jo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Wr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,c,t),e&&e.length>0&&Br(a,c,e.join(" "))}if(g=Dt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ki(t,r,e,fi(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);gr(i,e);const s=Nt(r,e);return s&&gr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ci(e,o)),o}(t,this.componentDef,d,h,[fs]),di(f,d,null)}finally{le()}return new _a(this.componentType,p,So(g,d),d,g)}}class _a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qo(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const wa=new Map;class Sa extends oa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ma(this);const n=lt(t),r=t[Y]||null;r&&uo(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=rs(t,e,[{provide:oa,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=hs.THROW_IF_NOT_FOUND,n=j.Default){return t===hs||t===oa||t===Wi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ea extends aa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,wa.get(i),n),wa.set(i,n));const s=yr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Sa(this.moduleType,t)}}function Ta(t,e){const n=zt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(Cs);try{const t=je(!1),e=s();return je(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{D(o)}}function Oa(t,e,n){const r=t+ht,i=Ht(),s=function(t,e){return t[e]}(i,r);return function(t,e){return _s.isWrapped(e)&&(e=_s.unwrap(e),t[qt.lFrame.bindingIndex]=ti),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Es(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===ti?void 0:n}(t,o+1)}(i,function(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}function Ca(t){return e=>{setTimeout(t,void 0,e)}}const Ia=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Ca(u),a&&(a=Ca(a)),c&&(c=Ca(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Aa(){return this._results[bs()]()}class xa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bs(),n=xa.prototype;n[e]||(n[e]=Aa)}get changes(){return this._changes||(this._changes=new Ia)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=rn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ka{constructor(t){this.queryList=t,this.matches=null}clone(){return new ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ba(t,e).matches&&this.queries[e].setDirty()}}class Na{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Da{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Da(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ra{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ra(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pa(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===na?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===To||r===ca||r===na&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?So(t,e):4&t.type?sa(t,e):null}(e,t):-2===n?function(t,e,n){return n===To?So(e,t):n===na?sa(e,t):n===ca?pa(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function La(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Fa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ma(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=La(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ma(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ma(n[1],n,i,r)}}}}}return r}function Va(t){const e=Ht(),n=zt(),r=ee();ne(r+1);const i=Ba(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ma(n,e,r,[]):La(n,e,i,r);t.reset(s,Oo),t.notifyOnChanges()}return!0}return!1}function Ua(t,e,n,r){const i=zt();if(i.firstCreatePass){const s=Gt();(function(t,e,n){null===t.queries&&(t.queries=new Da),t.queries.track(new Ra(e,n))})(i,new Na(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new xa(4==(4&n));wi(t,e,r,r.destroy),null===e[19]&&(e[19]=new ja),e[19].queries.push(new ka(r))}(i,Ht(),n)}function qa(){return t=Ht(),e=ee(),t[19].queries[e].queryList;var t,e}function Ba(t,e){return t.queries.getByIndex(e)}function Ha(t=j.Default){const e=Jo(!0);if(null!=e||t&j.Optional)return e;w("ChangeDetectorRef")}const za=new tn("Application Initializer");let $a=(()=>{class t{constructor(t){this.appInits=t,this.resolve=wo,this.reject=wo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ds(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(za,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ga=new tn("AppId"),Ka={provide:Ga,useFactory:function(){return`${Qa()}${Qa()}${Qa()}`},deps:[]};function Qa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wa=new tn("Platform Initializer"),Ya=new tn("Platform ID"),Ja=new tn("appBootstrapListener");let Za=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Xa=new tn("LocaleId"),tu=new tn("DefaultCurrencyCode");class eu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nu=function(t){return new Ea(t)},ru=nu,iu=function(t){return Promise.resolve(nu(t))},su=function(t){const e=nu(t),n=yr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new ba(n)),t},[]);return new eu(e,n)},ou=su,au=function(t){return Promise.resolve(su(t))};let uu=(()=>{class t{constructor(){this.compileModuleSync=ru,this.compileModuleAsync=iu,this.compileModuleAndAllComponentsSync=ou,this.compileModuleAndAllComponentsAsync=au}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const cu=(()=>Promise.resolve(0))();function lu(t){"undefined"==typeof Zone?cu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pu(t),du(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return gu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),mu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return gu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,pu(t),du(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,fu,wo,wo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const fu={};function du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mu(t){t._nesting--,du(t)}class yu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hu.assertNotInAngularZone(),lu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(hu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),bu=(()=>{class t{constructor(){this._applications=new Map,Eu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Eu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class _u{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function wu(t){Eu=t}let Su,Eu=new _u,Tu=!0,Ou=!1;function Cu(){return Ou=!0,Tu}function Iu(){if(Ou)throw new Error("Cannot enable prod mode after platform setup.");Tu=!1}const Au=new tn("AllowMultipleToken");class xu{constructor(t,e){this.name=t,this.token=e}}function ku(t,e,n=[]){const r=`Platform: ${e}`,i=new tn(r);return(e=[])=>{let s=ju();if(!s||s.injector.get(Au,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(Su&&!Su.destroyed&&!Su.injector.get(Au,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Su=t.get(Nu);const e=t.get(Wa,null);e&&e.forEach(t=>t())}(hs.create({providers:t,name:r}))}return function(t){const e=ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ju(){return Su&&!Su.destroyed?Su:null}let Nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yu:("zone.js"===t?void 0:t)||new hu({enableLongStackTrace:Cu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:hu,useValue:n}];return n.run(()=>{const e=hs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(pr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Pu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ds(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get($a);return t.runInitializers(),t.donePromise.then(()=>(uo(i.injector.get(Xa,oo)||oo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Du({},e);return function(t,e,n){const r=new Ea(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ru);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(hs))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Du(t,e){return Array.isArray(e)?e.reduce(Du,t):Object.assign(Object.assign({},t),e)}let Ru=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{hu.assertNotInAngularZone(),lu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof vo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(oa),i=n.create(hs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(vu,null),a=o&&i.injector.get(bu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Pu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Pu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ja,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(hu),vn(hs),vn(pr),vn(_o),vn($a))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Pu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fu{}class Lu{}const Mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Mu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Uu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Uu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(uu),vn(Lu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const qu=function(t){return null},Bu=ku(null,"core",[{provide:Ya,useValue:"unknown"},{provide:Nu,deps:[hs]},{provide:bu,deps:[]},{provide:Za,deps:[]}]),Hu=[{provide:Ru,useClass:Ru,deps:[hu,hs,pr,_o,$a]},{provide:va,deps:[hu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$a,useClass:$a,deps:[[new Sn,za]]},{provide:uu,useClass:uu,deps:[]},Ka,{provide:Ho,useFactory:function(){return Xo},deps:[]},{provide:$o,useFactory:function(){return ta},deps:[]},{provide:Xa,useFactory:function(t){return uo(t=t||"undefined"!=typeof $localize&&$localize.locale||oo),t},deps:[[new wn(Xa),new Sn,new En]]},{provide:tu,useValue:"USD"}];let zu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(vn(Ru))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:Hu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return x}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return v}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return _}),n.d(e,"r",function(){return b});var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){var e=i(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,S.prototype.create),s}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?E(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new w(i,a,r);return u},t}();function E(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function A(){}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Sb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Sb)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(o).location;return new b(Object(r.Sb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Sb)(m),Object(r.Sb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.nb;class C{}let I=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let x=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new k(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}class R{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class P{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const F=new P,L=new R;let M=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return F;if(Object(r.tb)(e))return L;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Kb({name:"async",type:t,pure:!1}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:C,useClass:I}]}),t})();function U(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new B(Object(r.Sb)(o),window)}),t})();class B{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new z,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=G||(G=document.querySelector("base"),G)?G.getAttribute("href"):null;return null==e?null:(n=e,$||($=document.createElement("a")),$.setAttribute("href",n),"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname);var n}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let $,G=null;const K=new r.r("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[K,o,r.s],multi:!0}];class W{static init(){Object(r.X)(new W)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Y=new r.r("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Y),r.Sb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let X=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends X{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(et),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(et))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function et(t){s().remove(t)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(J),r.Sb(tt),r.Sb(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ut extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends Z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gt=(()=>{class t extends Z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const mt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){z.makeCurrent(),W.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],yt=Object(r.S)(r.W,"browser",mt),vt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Y,useClass:lt,multi:!0,deps:[o,r.A,r.C]},{provide:Y,useClass:gt,multi:!0,deps:[o]},[],{provide:ot,useClass:ot,deps:[J,tt,r.c]},{provide:r.F,useExisting:ot},{provide:X,useExisting:tt},{provide:tt,useClass:tt,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:J,useClass:J,deps:[Y,r.A]},[]];let bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:K,useExisting:r.c},Q]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:vt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),wt=n("LRne"),St=n("XNiG"),Et=n("9ppp");class Tt extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var Ot=n("z+Ro"),Ct=n("DH7j"),It=n("7o/Q");class At extends It.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xt extends It.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var kt=n("SeVD"),jt=n("HDdC");function Nt(t,e,n,r,i=new xt(t,n,r)){if(!i.closed)return e instanceof jt.a?e.subscribe(i):Object(kt.a)(e)(i)}var Dt=n("yCtX");const Rt={};class Pt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ft(t,this.resultSelector))}}class Ft extends At{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Rt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Nt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Rt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Lt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Mt=n("bHdf");function Vt(...t){return Object(Mt.a)(1)(Object(wt.a)(...t))}var Ut=n("EY2u");function qt(t){return new jt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Ut.b)()).subscribe(e)})}var Bt=n("EQ5u"),Ht=n("lJxs"),zt=n("zx2A");function $t(t,e){return"function"==typeof e?n=>n.pipe($t((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(Ht.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Gt(t))}class Gt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Kt(t,this.project))}}class Kt extends zt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Qt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wt(t){return e=>0===t?Object(Ut.b)():e.lift(new Yt(t))}class Yt{constructor(t){if(this.total=t,this.total<0)throw new Qt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends It.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Zt(...t){const e=t[t.length-1];return Object(Ot.a)(e)?(t.pop(),n=>Vt(t,n,e)):e=>Vt(t,e)}function Xt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends It.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends It.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function se(t){return function(e){const n=new oe(t),r=e.lift(n);return n.caught=r}}class oe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends zt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zt.a(this);this.add(r);const i=Object(zt.c)(n,r);i!==r&&this.add(i)}}}var ue=n("5+tZ");function ce(t,e){return Object(ue.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(Ut.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new Qt}call(t,e){return e.subscribe(new fe(t,this.total))}}class fe extends It.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function de(t=me){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ge(t,this.errorFactory))}}class ge extends It.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(tb){t=tb}this.destination.error(t)}}}function me(){return new Lt}function ye(t=null){return e=>e.lift(new ve(t))}class ve{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new be(t,this.defaultValue))}}class be extends It.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _e=n("SpAZ");function we(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,Wt(1),n?ye(e):de(()=>new Lt))}var Se=n("vkgz"),Ee=n("x+ZX"),Te=n("quSY");class Oe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ce(t,this.callback))}}class Ce extends It.a{constructor(t,e){super(t),this.add(new Te.a(e))}}class Ie{constructor(t,e){this.id=t,this.url=e}}class Ae extends Ie{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xe extends Ie{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ke extends Ie{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Ie{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ie{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ze="primary";class $e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new $e(t)}function Ke(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Qe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function We(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ye(t[i],e[i]))return!1;return!0}function Ye(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Je(t){return Array.prototype.concat.apply([],t)}function Ze(t){return t.length>0?t[t.length-1]:null}function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function tn(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(_t.a)(Promise.resolve(t)):Object(wt.a)(t)}function en(t,e,n){return n?function(t,e){return We(t,e)}(t.queryParams,e.queryParams)&&nn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ye(t[n],e[n]))}(t.queryParams,e.queryParams)&&rn(t.root,e.root)}function nn(t,e){if(!cn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}function rn(t,e){return sn(t,e,e.segments)}function sn(t,e,n){if(t.segments.length>n.length)return!!cn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!cn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!cn(t.segments,r)&&!!t.children.primary&&sn(t.children.primary,e,i)}}class on{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class un{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return _n(this)}}function cn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ln{}class hn{parse(t){const e=new On(t);return new on(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${pn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${mn(e)}=${mn(t)}`).join("&"):`${mn(e)}=${mn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const fn=new hn;function dn(t){return t.segments.map(t=>_n(t)).join("/")}function pn(t,e){if(!t.hasChildren())return dn(t);if(e){const e=t.children.primary?pn(t.children.primary,!1):"",n=[];return Xe(t.children,(t,e)=>{e!==ze&&n.push(`${e}:${pn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Xe(t.children,(t,r)=>{r===ze&&(n=n.concat(e(t,r)))}),Xe(t.children,(t,r)=>{r!==ze&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ze?[pn(t.children.primary,!1)]:[`${n}:${pn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${dn(t)}/${e[0]}`:`${dn(t)}/(${e.join("//")})`}}function gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(t){return gn(t).replace(/%3B/gi,";")}function yn(t){return gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function bn(t){return vn(t.replace(/\+/g,"%20"))}function _n(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const wn=/^[^\/()?;=#]+/;function Sn(t){const e=t.match(wn);return e?e[0]:""}const En=/^[^=?&#]+/,Tn=/^[^?&#]+/;class On{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new an(t,e)),n}parseSegment(){const t=Sn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new un(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Sn(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Tn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=bn(e),i=bn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ze);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new an([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=In(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=In(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=An(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return An(t,this._root).map(t=>t.value)}}function In(t,e){if(t===e.value)return e;for(const n of e.children){const e=In(t,n);if(e)return e}return null}function An(t,e){if(t===e.value)return[e];for(const n of e.children){const r=An(t,n);if(r.length)return r.unshift(e),r}return[]}class xn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends Cn{constructor(t,e){super(t),this.snapshot=e,Ln(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Pn([],{},{},"",{},ze,e,null,t.root,-1,{});return new Fn("",new xn(n,[]))}(t,e),r=new Tt([new un("",{})]),i=new Tt({}),s=new Tt({}),o=new Tt({}),a=new Tt(""),u=new Dn(r,i,o,a,s,ze,e,n.root);return u.snapshot=n.root,new jn(new xn(u,[]),n)}class Dn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ht.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ht.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends Cn{constructor(t,e){super(e),this.url=t,Ln(this,e)}toString(){return Mn(this._root)}}function Ln(t,e){e.value._routerState=t,e.children.forEach(e=>Ln(t,e))}function Mn(t){const e=t.children.length>0?` { ${t.children.map(Mn).join(", ")} } `:"";return`${t.value}${e}`}function Vn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,We(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),We(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!We(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),We(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){return We(t.params,e.params)&&function(t,e){return cn(t,e)&&t.every((t,n)=>We(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qn(t,e,r);return qn(t,e)})}(t,e,n);return new xn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Bn(e,t),t}}const n=new Dn(new Tt((r=e.value).url),new Tt(r.params),new Tt(r.queryParams),new Tt(r.fragment),new Tt(r.data),r.outlet,r.component,r),i=e.children.map(e=>qn(t,e));return new xn(n,i)}var r}function Bn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Bn(t.children[n],e.children[n])}function Hn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function zn(t){return"object"==typeof t&&null!=t&&t.outlets}function $n(t,e,n,r,i){let s={};return r&&Xe(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new on(n.root===t?e:Gn(n.root,t,e),s,i)}function Gn(t,e,n){const r={};return Xe(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new an(t.segments,r)}class Kn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(zn);if(r&&r!==Ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Wn(t,e,n){if(t||(t=new an([],{})),0===t.segments.length&&t.hasChildren())return Yn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(zn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!tr(a,u,e))return s;r+=2}else{if(!tr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new an(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new an(t.segments.slice(r.pathIndex),t.children),Yn(e,0,i)}return r.match&&0===i.length?new an(t.segments,{}):r.match&&!t.hasChildren()?Jn(t,e,n):r.match?Yn(t,0,i):Jn(t,e,n)}function Yn(t,e,n){if(0===n.length)return new an(t.segments,{});{const r=function(t){return zn(t[0])?t[0].outlets:{[ze]:t}}(n),i={};return Xe(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Wn(t.children[r],e,n))}),Xe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new an(t.segments,i)}}function Jn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(zn(s)){const t=Zn(s.outlets);return new an(r,t)}if(0===i&&Hn(n[0])){r.push(new un(t.segments[e].path,Xn(n[0]))),i++;continue}const o=zn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hn(a)?(r.push(new un(o,Xn(a))),i+=2):(r.push(new un(o,{})),i++)}return new an(r,{})}function Zn(t){const e={};return Xe(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jn(new an([],{}),0,t))}),e}function Xn(t){const e={};return Xe(t,(t,n)=>e[n]=`${t}`),e}function tr(t,e,n){return t==n.path&&We(e,n.parameters)}class er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=kn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Xe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=kn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=kn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Be(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ue(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),nr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function nr(t){Vn(t.value),t.children.forEach(nr)}class rr{constructor(t,e){this.routes=t,this.module=e}}function ir(t){return"function"==typeof t}function sr(t){return t instanceof on}const or=Symbol("INITIAL_VALUE");function ar(){return $t(t=>function(...t){let e,n;return Object(Ot.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,n).lift(new Pt(e))}(t.map(t=>t.pipe(Wt(1),Zt(or)))).pipe(Xt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==or)return t;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sr(r))return r}return t},t)},or),ne(t=>t!==or),Object(Ht.a)(t=>sr(t)?t:!0===t),Wt(1)))}let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[ni]},encapsulation:2}),t})();function cr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];lr(r,hr(e,r))}}function lr(t,e){t.children&&cr(t.children,e)}function hr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fr(t){const e=t.children&&t.children.map(fr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ze&&(n.component=ur),n}function dr(t){return t.outlet||ze}function pr(t,e){const n=t.filter(t=>dr(t)===e);return n.push(...t.filter(t=>dr(t)!==e)),n}const gr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qe)(n,t,e);if(!i)return Object.assign({},gr);const s={};Xe(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function yr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&dr(n)!==ze)}(t,n,r)){const i=new an(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&dr(s)!==ze){const n=new an([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[dr(s)]=n}return i}(t,e,r,new an(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)){const s=new an(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(vr(t,n,a)&&!i[dr(a)]){const n=new an([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[dr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new an(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function br(t,e,n,r){return!!(dr(t)===r||r!==ze&&vr(e,n,t))&&("**"===t.path||mr(e,t,n).matched)}function _r(t,e,n){return 0===e.length&&!t.children[n]}class wr{constructor(t){this.segmentGroup=t||null}}class Sr{constructor(t){this.urlTree=t}}function Er(t){return new jt.a(e=>e.error(new wr(t)))}function Tr(t){return new jt.a(e=>e.error(new Sr(t)))}function Or(t){return new jt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=yr(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ze).pipe(Object(Ht.a)(t=>this.createUrlTree(Ir(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(se(t=>{if(t instanceof Sr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof wr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ze).pipe(Object(Ht.a)(e=>this.createUrlTree(Ir(e),t.queryParams,t.fragment))).pipe(se(t=>{if(t instanceof wr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new an([],{[ze]:t}):t;return new on(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ht.a)(t=>new an([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],s=pr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Ht.a)(t=>({segment:t,outlet:r})))}),Xt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,le(1),n?ye(e):de(()=>new Lt))}())}expandSegment(t,e,n,r,i,s){return Object(_t.a)(n).pipe(ce(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(se(t=>{if(t instanceof wr)return Object(wt.a)(null);throw t}))),we(t=>!!t),se((t,n)=>{if(t instanceof Lt||"EmptyError"===t.name){if(_r(e,r,i))return Object(wt.a)(new an([],{}));throw new wr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return br(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Er(e):Er(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tr(i):this.lineralizeSegments(n,i).pipe(Object(ue.a)(n=>{const i=new an(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=mr(e,r,i);if(!o)return Er(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Tr(l):this.lineralizeSegments(r,l).pipe(Object(ue.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(wt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ht.a)(t=>(n._loadedConfig=t,new an(r,{})))):Object(wt.a)(new an(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=mr(e,n,r);if(!s)return Er(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ue.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=yr(e,o,u,s),l=new an(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Ht.a)(t=>new an(o,t)));if(0===s.length&&0===c.length)return Object(wt.a)(new an(o,{}));const h=dr(n)===i;return this.expandSegment(r,l,s,c,h?ze:i,!0).pipe(Object(Ht.a)(t=>new an(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new rr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ue.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ht.a)(t=>(e._loadedConfig=t,t))):function(t){return new jt.a(e=>e.error(Ke(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new rr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ir(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ir(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return tn(s)});return Object(wt.a)(i).pipe(ar(),Object(Se.a)(t=>{if(!sr(t))return;const e=Ke(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ht.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Or(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new on(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Xe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Xe(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new an(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ir(t){const e={};for(const n of Object.keys(t.children)){const r=Ir(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new an(t.segments.concat(e.segments),e.children)}return t}(new an(t.segments,e))}class Ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xr{constructor(t,e){this.component=t,this.route=e}}function kr(t,e,n){const r=t._root;return Nr(r,e?e._root:null,n,[r.value])}function jr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=kn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cn(t.url,e.url)||!We(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!We(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ar(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,o))}else o&&Dr(e,a,i),i.canActivateChecks.push(new Ar(r)),Nr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Xe(s,(t,e)=>Dr(t,n.getContext(e),i)),i}function Dr(t,e,n){const r=kn(t),i=t.value;Xe(r,(t,r)=>{Dr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Rr{}function Pr(t){return new jt.a(e=>e.error(t))}class Fr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=yr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ze);if(null===e)return null;const n=new Pn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xn(n,e),i=new Fn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Rn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=pr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Mr(n);return r.sort((t,e)=>t.value.outlet===ze?-1:e.value.outlet===ze?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return _r(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!br(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Ze(n).parameters:{};i=new Pn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),dr(t),t.component,t,Vr(e),Ur(e)+n.length,Br(t))}else{const r=mr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Pn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),dr(t),t.component,t,Vr(e),Ur(e)+s.length,Br(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=yr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new xn(i,t)]}if(0===a.length&&0===c.length)return[new xn(i,[])];const l=dr(t)===r,h=this.processSegment(a,u,c,l?ze:r);return null===h?null:[new xn(i,h)]}}function Lr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Mr(t){const e=[],n=new Set;for(const r of t){if(!Lr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Mr(r.children);e.push(new xn(r.value,t))}return e.filter(t=>!n.has(t))}function Vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qr(t){return t.data||{}}function Br(t){return t.resolve||{}}function Hr(t){return $t(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(Ht.a)(()=>e)):Object(wt.a)(e)})}class zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $r=new r.r("ROUTES");class Gr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ht.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new rr(Je(i.injector.get($r,void 0,r.q.Self|r.q.Optional)).map(fr),i)}),se(t=>{throw e._loader$=void 0,t}));return e._loader$=new Bt.a(n,()=>new St.a).pipe(Object(Ee.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):tn(t()).pipe(Object(ue.a)(t=>t instanceof r.w?Object(wt.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Kr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qr,this.attachRef=null}}class Qr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Kr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yr(t){throw t}function Jr(t,e,n){return e.parse("/")}function Zr(t,e){return Object(wt.a)(null)}let Xr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zr,afterPreactivation:Zr},this.urlHandlingStrategy=new Wr,this.routeReuseStrategy=new zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new on(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gr(o,a,t=>this.triggerEvent(new Le(t)),t=>this.triggerEvent(new Me(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$t(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Se.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$t(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe($t(t=>{const n=this.transitions.getValue();return e.next(new Ae(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ut.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,$t(t=>function(t,e,n,r,i){return new Cr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ht.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Se.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ue.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Fr(t,e,n,r,i,s).recognize();return null===o?Pr(new Rr):Object(wt.a)(o)}catch(tb){return Pr(tb)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ht.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Se.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ae(n,this.serializeUrl(r),i,s);e.next(a);const u=Nn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ut.a}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Se.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{guards:kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ue.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ue.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(wt.a)(!0);const o=s.map(s=>{const o=jr(s,e,i);let a;if(function(t){return t&&ir(t.canDeactivate)}(o))a=tn(o.canDeactivate(t,e,n,r));else{if(!ir(o))throw new Error("Invalid CanDeactivate guard");a=tn(o(t,e,n,r))}return a.pipe(we())});return Object(wt.a)(o).pipe(ar())}(t.component,t.route,n,e,r)),we(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ue.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Vt(function(t,e){return null!==t&&e&&e(new Ve(t)),Object(wt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new qe(t)),Object(wt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qt(()=>{const i=e.guards.map(i=>{const s=jr(i,e.node,n);let o;if(function(t){return t&&ir(t.canActivateChild)}(s))o=tn(s.canActivateChild(r,t));else{if(!ir(s))throw new Error("Invalid CanActivateChild guard");o=tn(s(r,t))}return o.pipe(we())});return Object(wt.a)(i).pipe(ar())}));return Object(wt.a)(i).pipe(ar())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>qt(()=>{const i=jr(r,e,n);let s;if(function(t){return t&&ir(t.canActivate)}(i))s=tn(i.canActivate(e,t));else{if(!ir(i))throw new Error("Invalid CanActivate guard");s=tn(i(e,t))}return s.pipe(we())}));return Object(wt.a)(i).pipe(ar())}(t,e.route,n))),we(t=>!0!==t,!0))}(r,s,t,e):Object(wt.a)(n)),Object(Ht.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Se.a)(t=>{if(sr(t.guardsResult)){const e=Ke(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ke(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Se.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$t(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ue.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let s=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const s={};return Object(_t.a)(i).pipe(Object(ue.a)(i=>function(t,e,n,r){const i=jr(t,e,r);return tn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Se.a)(t=>{s[i]=t}))),le(1),Object(ue.a)(()=>Object.keys(s).length===i.length?Object(wt.a)(s):Ut.a))}(t._resolve,t,e,r).pipe(Object(Ht.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Rn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Se.a)(()=>s++),le(1),Object(ue.a)(e=>s===n.length?Object(wt.a)(t):Ut.a))})),Object(Se.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new ke(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Se.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ht.a)(t=>{const e=function(t,e,n){const r=qn(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Se.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ht.a)(t=>(new er(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Se.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ke(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Oe(i))),se(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ke(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Sl){t.reject(Sl)}}var i;return Ut.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cr(t),this.config=t.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return $n(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Xe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kn(n,e,r)}(n);if(s.toRoot())return $n(e.root,new an([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Qn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Qn(t,t===e.root,0)}const r=Hn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Qn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Yn(o.segmentGroup,o.index,s.commands):Wn(o.segmentGroup,o.index,s.commands);return $n(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(tb){e=this.malformedUriErrorHandler(tb,this.urlSerializer,t)}return e}isActive(t,e){if(sr(t))return en(this.currentUrlTree,t,e);const n=this.parseUrl(t);return en(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.N),r.Sb(ln),r.Sb(Qr),r.Sb(w),r.Sb(r.s),r.Sb(r.x),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new St.a,this.subscription=t.events.subscribe(t=>{t instanceof xe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Xr),r.Lb(Dn),r.Lb(m))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Rb("href",e.href,r.dc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})();function ei(t){return""===t||!!t}let ni=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||ze,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ri(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qr),r.Lb(r.Q),r.Lb(r.j),r.Tb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ri{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Dn?this.route:t===Qr?this.childContexts:this.parent.get(t,e)}}class ii{}class si{preload(t,e){return Object(wt.a)(null)}}let oi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Gr(e,n,e=>t.triggerEvent(new Le(e)),e=>t.triggerEvent(new Me(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof xe),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Mt.a)(),Object(Ht.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(wt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ue.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Xr),r.Sb(r.x),r.Sb(r.i),r.Sb(r.s),r.Sb(ii))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof He&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new He(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Xr),r.Sb(q),r.Sb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ui=new r.r("ROUTER_CONFIGURATION"),ci=new r.r("ROUTER_FORROOT_GUARD"),li=[w,{provide:ln,useClass:hn},{provide:Xr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Xr(null,t,e,n,r,i,o,Je(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ln,Qr,w,r.s,r.x,r.i,$r,ui,[class{},new r.B],[class{},new r.B]]},Qr,{provide:Dn,useFactory:function(t){return t.routerState.root},deps:[Xr]},{provide:r.x,useClass:r.K},oi,si,class{preload(t,e){return e().pipe(se(()=>Object(wt.a)(null)))}},{provide:ui,useValue:{enableTracing:!1}}];function hi(){return new r.z("Router",Xr)}let fi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[li,mi(e),{provide:ci,useFactory:gi,deps:[[Xr,new r.B,new r.J]]},{provide:ui,useValue:n||{}},{provide:m,useFactory:pi,deps:[a,[new r.p(v),new r.B],ui]},{provide:ai,useFactory:di,deps:[Xr,q,ui]},{provide:ii,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:si},{provide:r.z,multi:!0,useFactory:hi},[yi,{provide:r.d,multi:!0,useFactory:vi,deps:[yi]},{provide:_i,useFactory:bi,deps:[yi]},{provide:r.b,multi:!0,useExisting:_i}]]}}static forChild(e){return{ngModule:t,providers:[mi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ci,8),r.Sb(Xr,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function di(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ai(t,e,n)}function pi(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function gi(t){return"guarded"}function mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:$r,multi:!0,useValue:t}]}let yi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Xr),r=this.injector.get(ui);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ui),n=this.injector.get(oi),i=this.injector.get(ai),s=this.injector.get(Xr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function vi(t){return t.appInitializer.bind(t)}function bi(t){return t.bootstrapListener.bind(t)}const _i=new r.r("Router Initializer");let wi=(()=>{class t{constructor(){this.image={src:"https://www.wojsko-polskie.pl/law/u/filer_public_thumbnails/ee/eb/eeebd332-a5c9-47b1-b316-9c1820958720/20140721094714-polska-ukraina.jpeg__1920x900_q85_crop_subsampling-2_upscale.jpg",alt:"Polska-Ukraina"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-home-page"]],decls:6,vars:2,consts:[[1,"grid","mx-auto","w-75",2,"width","95%"],[1,"g-col-12","grid-col-fixed-100","g-start-2","g-col-md-2"],["width","100%",1,"img-fluid",3,"src","alt"],[1,"g-col-12","g-col-md-8"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Mb(2,"img",2),r.Nb(),r.Ob(3,"div",3),r.Ob(4,"p"),r.gc(5," Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione iste natus laboriosam explicabo modi, nam blanditiis doloribus consequatur odit similique ducimus dolor maxime voluptatum! Quam quia blanditiis nemo commodi vitae? Eius necessitatibus doloribus labore? Autem voluptatibus modi voluptatem officia, libero ex et quaerat aut magni harum blanditiis consectetur tempora perspiciatis? Totam alias tempore dicta quod natus, cupiditate consectetur quam veniam. "),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(2),r.ac("src",e.image.src,r.dc)("alt",e.image.alt))},encapsulation:2,changeDetection:0}),t})(),Si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,fi]]}),t})(),Ei=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,fi,Si]]}),t})(),Ti=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V]]}),t})();var Oi=n("D0XW");function Ci(){return t=>t.lift(new Ii)}class Ii{call(t,e){return e.subscribe(new Ai(t))}}class Ai extends It.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class xi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ki(t,this.compare,this.keySelector))}}class ki extends It.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ji=n("pxpQ"),Ni=n("spgP"),Di=n("Jgta"),Ri=n("zIRd"),Pi=n("mrSG"),Fi=n("qOnz"),Li=n("q/0M"),Mi=function(t,e){return(Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Vi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ui,qi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bi=Bi||{},Hi=qi||self;function zi(){}function $i(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ki="closure_uid_"+(1e9*Math.random()>>>0),Qi=0;function Wi(t,e,n){return t.call.apply(t.bind,arguments)}function Yi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ji(t,e,n){return(Ji=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wi:Yi).apply(null,arguments)}function Zi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Xi(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ts(){this.s=this.s,this.o=this.o}var es={};ts.prototype.s=!1,ts.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Ki)&&t[Ki]||(t[Ki]=++Qi)}(this);delete es[t]}},ts.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ns=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function is(t){return Array.prototype.concat.apply([],arguments)}function ss(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function os(t){return/^[\s\xa0]*$/.test(t)}var as,us=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cs(t,e){return-1!=t.indexOf(e)}function ls(t,e){return t<e?-1:t>e?1:0}t:{var hs=Hi.navigator;if(hs){var fs=hs.userAgent;if(fs){as=fs;break t}}as=""}function ds(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ps(t){var e={};for(var n in t)e[n]=t[n];return e}var gs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ms(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<gs.length;s++)n=gs[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ys(t){return ys[" "](t),t}ys[" "]=zi;var vs,bs,_s=cs(as,"Opera"),ws=cs(as,"Trident")||cs(as,"MSIE"),Ss=cs(as,"Edge"),Es=Ss||ws,Ts=cs(as,"Gecko")&&!(cs(as.toLowerCase(),"webkit")&&!cs(as,"Edge"))&&!(cs(as,"Trident")||cs(as,"MSIE"))&&!cs(as,"Edge"),Os=cs(as.toLowerCase(),"webkit")&&!cs(as,"Edge");function Cs(){var t=Hi.document;return t?t.documentMode:void 0}t:{var Is="",As=(bs=as,Ts?/rv:([^\);]+)(\)|;)/.exec(bs):Ss?/Edge\/([\d\.]+)/.exec(bs):ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bs):Os?/WebKit\/(\S+)/.exec(bs):_s?/(?:Version)[ \/]?(\S+)/.exec(bs):void 0);if(As&&(Is=As?As[1]:""),ws){var xs=Cs();if(null!=xs&&xs>parseFloat(Is)){vs=String(xs);break t}}vs=Is}var ks={};var js=Hi.document&&ws&&(Cs()||parseInt(vs,10))||void 0,Ns=function(){if(!Hi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Hi.addEventListener("test",zi,e),Hi.removeEventListener("test",zi,e)}catch(n){}return t}();function Ds(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Rs(t,e){if(Ds.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ts){t:{try{ys(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ps[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rs.Z.h.call(this)}}Ds.prototype.h=function(){this.defaultPrevented=!0},Xi(Rs,Ds);var Ps={2:"touch",3:"pen",4:"mouse"};Rs.prototype.h=function(){Rs.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fs="closure_listenable_"+(1e6*Math.random()|0),Ls=0;function Ms(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ls,this.ca=this.fa=!1}function Vs(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Us(t){this.src=t,this.g={},this.h=0}function qs(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=ns(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Vs(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Bs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Us.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Bs(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Ms(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Hs="closure_lm_"+(1e6*Math.random()|0),zs={};function $s(t,e,n,r,i){if(r&&r.once)return Ks(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$s(t,e[s],n,r,i);return null}return n=to(n),t&&t[Fs]?t.N(e,n,Gi(r)?!!r.capture:!!r,i):Gs(t,e,n,!1,r,i)}function Gs(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gi(i)?!!i.capture:!!i,a=Zs(t);if(a||(t[Hs]=a=new Us(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Js;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ns||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ys(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ks(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ks(t,e[s],n,r,i);return null}return n=to(n),t&&t[Fs]?t.O(e,n,Gi(r)?!!r.capture:!!r,i):Gs(t,e,n,!0,r,i)}function Qs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Qs(t,e[s],n,r,i);else r=Gi(r)?!!r.capture:!!r,n=to(n),t&&t[Fs]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Bs(s=t.g[e],n,r,i))&&(Vs(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Zs(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bs(e,n,r,i)),(n=-1<t?e[t]:null)&&Ws(n))}function Ws(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Fs])qs(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ys(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zs(e))?(qs(n,t),0==n.h&&(n.src=null,e[Hs]=null)):Vs(t)}}}function Ys(t){return t in zs?zs[t]:zs[t]="on"+t}function Js(t,e){if(t.ca)t=!0;else{e=new Rs(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ws(t),t=n.call(r,e)}return t}function Zs(t){return(t=t[Hs])instanceof Us?t:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(t){return"function"==typeof t?t:(t[Xs]||(t[Xs]=function(e){return t.handleEvent(e)}),t[Xs])}function eo(){ts.call(this),this.i=new Us(this),this.P=this,this.I=null}function no(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ds(e,t);else if(e instanceof Ds)e.target=e.target||t;else{var i=e;ms(e=new Ds(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ro(o,r,!0,e)&&i}if(i=ro(o=e.g=t,r,!0,e)&&i,i=ro(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ro(o=e.g=n[s],r,!1,e)&&i}function ro(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&qs(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Xi(eo,ts),eo.prototype[Fs]=!0,eo.prototype.removeEventListener=function(t,e,n,r){Qs(this,t,e,n,r)},eo.prototype.M=function(){if(eo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Vs(n[r]);delete e.g[t],e.h--}}this.I=null},eo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},eo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var io=Hi.JSON.stringify;function so(){var t=po,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var oo,ao=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=uo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),uo=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new co},function(t){return t.reset()}),co=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function lo(t){Hi.setTimeout(function(){throw t},0)}function ho(t,e){oo||function(){var t=Hi.Promise.resolve(void 0);oo=function(){t.then(go)}}(),fo||(oo(),fo=!0),po.add(t,e)}var fo=!1,po=new ao;function go(){for(var t;t=so();){try{t.h.call(t.g)}catch(n){lo(n)}var e=uo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fo=!1}function mo(t,e){eo.call(this),this.h=t||1,this.g=e||Hi,this.j=Ji(this.kb,this),this.l=Date.now()}function yo(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function vo(t,e,n){if("function"==typeof t)n&&(t=Ji(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ji(t.handleEvent,t)}return 2147483647<Number(e)?-1:Hi.setTimeout(t,e||0)}function bo(t){t.g=vo(function(){t.g=null,t.i&&(t.i=!1,bo(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Xi(mo,eo),(Ui=mo.prototype).da=!1,Ui.S=null,Ui.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),no(this,"tick"),this.da&&(yo(this),this.start()))}},Ui.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ui.M=function(){mo.Z.M.call(this),yo(this),delete this.g};var _o=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:bo(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Hi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ts);function wo(t){ts.call(this),this.h=t,this.g={}}Xi(wo,ts);var So=[];function Eo(t,e,n,r){Array.isArray(n)||(n&&(So[0]=n.toString()),n=So);for(var i=0;i<n.length;i++){var s=$s(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function To(t){ds(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ws(t)},t),t.g={}}function Oo(){this.g=!0}function Co(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return io(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}wo.prototype.M=function(){wo.Z.M.call(this),To(this)},wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oo.prototype.Aa=function(){this.g=!1},Oo.prototype.info=function(){};var Io={},Ao=null;function xo(){return Ao=Ao||new eo}function ko(t){Ds.call(this,Io.Ma,t)}function jo(t){var e=xo();no(e,new ko(e,t))}function No(t,e){Ds.call(this,Io.STAT_EVENT,t),this.stat=e}function Do(t){var e=xo();no(e,new No(e,t))}function Ro(t,e){Ds.call(this,Io.Na,t),this.size=e}function Po(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Hi.setTimeout(function(){t()},e)}Io.Ma="serverreachability",Xi(ko,Ds),Io.STAT_EVENT="statevent",Xi(No,Ds),Io.Na="timingevent",Xi(Ro,Ds);var Fo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mo(){}function Vo(){}Mo.prototype.h=null;var Uo,qo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bo(){Ds.call(this,"d")}function Ho(){Ds.call(this,"c")}function zo(){}function $o(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new wo(this),this.P=Ko,this.W=new mo(t=Es?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}Xi(Bo,Ds),Xi(Ho,Ds),Xi(zo,Mo),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},Uo=new zo;var Ko=45e3,Qo={},Wo={};function Yo(t,e,n){t.K=1,t.v=ba(da(e)),t.s=n,t.U=!0,Jo(t,null)}function Jo(t,e){t.F=Date.now(),ea(t),t.A=da(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Na(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Go,t.g=Du(t.l,n?e:null,!t.s),0<t.O&&(t.L=new _o(Ji(t.Ia,t,t.g),t.O)),Eo(t.V,t.g,"readystatechange",t.gb),e=t.H?ps(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),jo(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Zo(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Xo(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=ta(t,n))==Wo){4==e&&(t.o=4,Do(14),i=!1),Co(t.j,t.m,null,"[Incomplete Response]");break}if(r==Qo){t.o=4,Do(15),Co(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Co(t.j,t.m,r,null),oa(t,r)}Zo(t)&&r!=Wo&&r!=Qo&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Do(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ou(e),e.L=!0,Do(11))):(Co(t.j,t.m,n,"[Invalid Chunked Response]"),sa(t),ia(t))}function ta(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wo:(n=Number(e.substring(n,r)),isNaN(n)?Qo:(r+=1)+n>e.length?Wo:(e=e.substr(r,n),t.C=r+n,e))}function ea(t){t.Y=Date.now()+t.P,na(t,t.P)}function na(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Po(Ji(t.eb,t),e)}function ra(t){t.B&&(Hi.clearTimeout(t.B),t.B=null)}function ia(t){0==t.l.G||t.I||Au(t.l,t)}function sa(t){ra(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,yo(t.W),To(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function oa(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Va(n.i,t)))if(n.I=t.N,!t.J&&Va(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Iu(n),mu(n)}Tu(n),Do(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Po(Ji(n.ab,n),6e3));if(1>=Ma(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else ku(n,11)}else if((t.J||n.g==t)&&Iu(n),!os(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(cs(l,"spdy")||cs(l,"quic")||cs(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ua(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,va(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Nu(r,r.H?r.la:null,r.W),d.J){qa(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(ra(p),ea(p)),r.g=d}else Eu(r);0<n.l.length&&bu(n)}else"stop"!=s[0]&&"close"!=s[0]||ku(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?ku(n,7):gu(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}jo(4)}catch(s){}}function aa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($i(t)||"string"==typeof t)rs(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if($i(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if($i(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ua(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ua)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ca(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];la(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)la(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function la(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ui=$o.prototype).setTimeout=function(t){this.P=t},Ui.gb=function(t){t=t.target;var e=this.L;e&&3==lu(t)?e.l():this.Ia(t)},Ui.Ia=function(t){try{if(t==this.g)t:{var e=lu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Es||this.g&&(this.h.h||this.g.ga()||hu(this.g)))){this.I||4!=e||7==n||jo(8==n||0>=r?3:2),ra(this);var i=this.g.ba();this.N=i;e:if(Zo(this)){var s=hu(this.g);t="";var o=s.length,a=4==lu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sa(this),ia(this);var u="";break e}this.h.i=new Hi.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!os(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Do(12),sa(this),ia(this);break t}Co(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oa(this,i)}this.U?(Xo(this,e,u),Es&&this.i&&3==e&&(Eo(this.V,this.W,"tick",this.fb),this.W.start())):(Co(this.j,this.m,u,null),oa(this,u)),4==e&&sa(this),this.i&&!this.I&&(4==e?Au(this.l,this):(this.i=!1,ea(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Do(12)):(this.o=0,Do(13)),sa(this),ia(this)}}}catch(e){}},Ui.fb=function(){if(this.g){var t=lu(this.g),e=this.g.ga();this.C<e.length&&(ra(this),Xo(this,t,e),this.i&&4!=t&&ea(this))}},Ui.cancel=function(){this.I=!0,sa(this)},Ui.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jo(3),Do(17)),sa(this),this.o=2,ia(this)):na(this,this.Y-t)},(Ui=ua.prototype).R=function(){ca(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Ui.T=function(){return ca(this),this.g.concat()},Ui.get=function(t,e){return la(this.h,t)?this.h[t]:e},Ui.set=function(t,e){la(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Ui.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ha=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof fa){this.g=void 0!==e?e:t.g,pa(this,t.j),this.s=t.s,ga(this,t.i),ma(this,t.m),this.l=t.l,e=t.h;var n=new Aa;n.i=e.i,e.g&&(n.g=new ua(e.g),n.h=e.h),ya(this,n),this.o=t.o}else t&&(n=String(t).match(ha))?(this.g=!!e,pa(this,n[1]||"",!0),this.s=_a(n[2]||""),ga(this,n[3]||"",!0),ma(this,n[4]),this.l=_a(n[5]||"",!0),ya(this,n[6]||"",!0),this.o=_a(n[7]||"")):(this.g=!!e,this.h=new Aa(null,this.g))}function da(t){return new fa(t)}function pa(t,e,n){t.j=n?_a(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ga(t,e,n){t.i=n?_a(e,!0):e}function ma(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ya(t,e,n){e instanceof Aa?(t.h=e,function(t,e){e&&!t.j&&(xa(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ka(this,e),Na(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=wa(e,Ca)),t.h=new Aa(e,t.g))}function va(t,e,n){t.h.set(e,n)}function ba(t){return va(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _a(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wa(e,Ea,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(wa(e,Ea,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(wa(n,"/"==n.charAt(0)?Oa:Ta,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wa(n,Ia)),t.join("")};var Ea=/[#\/\?@]/g,Ta=/[#\?:]/g,Oa=/[#\?]/g,Ca=/[#\?@]/g,Ia=/#/g;function Aa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xa(t){t.g||(t.g=new ua,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ka(t,e){xa(t),e=Da(t,e),la(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,la((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ca(t)))}function ja(t,e){return xa(t),e=Da(t,e),la(t.g.h,e)}function Na(t,e,n){ka(t,e),0<n.length&&(t.i=null,t.g.set(Da(t,e),ss(n)),t.h+=n.length)}function Da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ui=Aa.prototype).add=function(t,e){xa(this),this.i=null,t=Da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ui.forEach=function(t,e){xa(this),this.g.forEach(function(n,r){rs(n,function(n){t.call(e,n,r,this)},this)},this)},Ui.T=function(){xa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ui.R=function(t){xa(this);var e=[];if("string"==typeof t)ja(this,t)&&(e=is(e,this.g.get(Da(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=is(e,t[n])}return e},Ui.set=function(t,e){return xa(this),this.i=null,ja(this,t=Da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ui.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Ui.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Ra=function(){return function(t,e){this.h=t,this.g=e}}();function Pa(t){this.l=t||Fa,t=Hi.PerformanceNavigationTiming?0<(t=Hi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Hi.g&&Hi.g.Ea&&Hi.g.Ea()&&Hi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fa=10;function La(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ma(t){return t.h?1:t.g?t.g.size:0}function Va(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ua(t,e){t.g?t.g.add(e):t.h=e}function qa(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ba(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Vi(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ss(t.i)}function Ha(){}function za(){this.g=new Ha}function $a(t,e,n){var r=n||"";try{aa(t,function(t,n){var i=t;Gi(t)&&(i=io(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(tb){throw e.push(r+"type="+encodeURIComponent("_badmap")),tb}}function Ga(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Ka(t){this.l=t.$b||null,this.j=t.ib||!1}function Qa(t,e){eo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pa.prototype.cancel=function(){var t,e;if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Vi(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ha.prototype.stringify=function(t){return Hi.JSON.stringify(t,void 0)},Ha.prototype.parse=function(t){return Hi.JSON.parse(t,void 0)},Xi(Ka,Mo),Ka.prototype.g=function(){return new Qa(this.l,this.j)},Ka.prototype.i=function(t){return function(){return t}}({}),Xi(Qa,eo);var Wa=0;function Ya(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ja(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Za(t)}function Za(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ui=Qa.prototype).open=function(t,e){if(this.readyState!=Wa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Za(this)},Ui.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Hi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ui.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ja(this)),this.readyState=Wa},Ui.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Hi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ya(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Ui.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ja(this):Za(this),3==this.readyState&&Ya(this)}},Ui.Ua=function(t){this.g&&(this.response=this.responseText=t,Ja(this))},Ui.Ta=function(t){this.g&&(this.response=t,Ja(this))},Ui.ha=function(){this.g&&Ja(this)},Ui.setRequestHeader=function(t,e){this.v.append(t,e)},Ui.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ui.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Xa=Hi.JSON.parse;function tu(t){eo.call(this),this.headers=new ua,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eu,this.K=this.L=!1}Xi(tu,eo);var eu="",nu=/^https?$/i,ru=["POST","PUT"];function iu(t){return"content-type"==t.toLowerCase()}function su(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ou(t),uu(t)}function ou(t){t.D||(t.D=!0,no(t,"complete"),no(t,"error"))}function au(t){if(t.h&&void 0!==Bi&&(!t.C[1]||4!=lu(t)||2!=t.ba()))if(t.v&&4==lu(t))vo(t.Fa,0,t);else if(no(t,"readystatechange"),4==lu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(ha)[1]||null;if(!s&&Hi.self&&Hi.self.location){var o=Hi.self.location.protocol;s=o.substr(0,o.length-1)}i=!nu.test(s?s.toLowerCase():"")}e=i}if(e)no(t,"complete"),no(t,"success");else{t.m=6;try{var a=2<lu(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",ou(t)}}finally{uu(t)}}}function uu(t,e){if(t.g){cu(t);var n=t.g,r=t.C[0]?zi:null;t.g=null,t.C=null,e||no(t,"ready");try{n.onreadystatechange=r}catch(tb){}}}function cu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Hi.clearTimeout(t.A),t.A=null)}function lu(t){return t.g?t.g.readyState:0}function hu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case eu:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function fu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ds(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):va(t,e,n))}function du(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pu(t){this.za=0,this.l=[],this.h=new Oo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=du("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=du("baseRetryDelayMs",5e3,t),this.$a=du("retryDelaySeedMs",1e4,t),this.Ya=du("forwardChannelMaxRetries",2,t),this.ra=du("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Pa(t&&t.concurrentRequestLimit),this.Ca=new za,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function gu(t){if(yu(t),3==t.G){var e=t.V++,n=da(t.F);va(n,"SID",t.J),va(n,"RID",e),va(n,"TYPE","terminate"),wu(t,n),(e=new $o(t,t.h,e,void 0)).K=2,e.v=ba(da(n)),n=!1,Hi.navigator&&Hi.navigator.sendBeacon&&(n=Hi.navigator.sendBeacon(e.v.toString(),"")),!n&&Hi.Image&&((new Image).src=e.v,n=!0),n||(e.g=Du(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ea(e)}ju(t)}function mu(t){t.g&&(Ou(t),t.g.cancel(),t.g=null)}function yu(t){mu(t),t.u&&(Hi.clearTimeout(t.u),t.u=null),Iu(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Hi.clearTimeout(t.m),t.m=null)}function vu(t,e){t.l.push(new Ra(t.Za++,e)),3==t.G&&bu(t)}function bu(t){La(t.i)||t.m||(t.m=!0,ho(t.Ha,t),t.C=0)}function _u(t,e){var n;n=e?e.m:t.V++;var r=da(t.F);va(r,"SID",t.J),va(r,"RID",n),va(r,"AID",t.U),wu(t,r),t.o&&t.s&&fu(r,t.o,t.s),n=new $o(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Su(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ua(t.i,n),Yo(n,r,e)}function wu(t,e){t.j&&aa({},function(t,n){va(e,n,t)})}function Su(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ji(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{$a(l,o,"req"+c+"_")}catch(hc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Eu(t){t.g||t.u||(t.Y=1,ho(t.Ga,t),t.A=0)}function Tu(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Po(Ji(t.Ga,t),xu(t,t.A)),t.A++,0))}function Ou(t){null!=t.B&&(Hi.clearTimeout(t.B),t.B=null)}function Cu(t){t.g=new $o(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=da(t.oa);va(e,"RID","rpc"),va(e,"SID",t.J),va(e,"CI",t.N?"0":"1"),va(e,"AID",t.U),wu(t,e),va(e,"TYPE","xmlhttp"),t.o&&t.s&&fu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ba(da(e)),n.s=null,n.U=!0,Jo(n,t)}function Iu(t){null!=t.v&&(Hi.clearTimeout(t.v),t.v=null)}function Au(t,e){var n=null;if(t.g==e){Iu(t),Ou(t),t.g=null;var r=2}else{if(!Va(t.i,e))return;n=e.D,qa(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;no(r=xo(),new Ro(r,n,e,i)),bu(t)}else Eu(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ma(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Po(Ji(t.Ha,t,e),xu(t,t.C)),t.C++,0)))}(t,e)||2==r&&Tu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ku(t,5);break;case 4:ku(t,10);break;case 3:ku(t,6);break;default:ku(t,2)}}function xu(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ku(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ji(t.jb,t);n||(n=new fa("//www.google.com/images/cleardot.gif"),Hi.location&&"http"==Hi.location.protocol||pa(n,"https"),ba(n)),function(t,e){var n=new Oo;if(Hi.Image){var r=new Image;r.onload=Zi(Ga,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zi(Ga,n,r,"TestLoadImage: error",!1,e),r.onabort=Zi(Ga,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zi(Ga,n,r,"TestLoadImage: timeout",!1,e),Hi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Do(2);t.G=0,t.j&&t.j.va(e),ju(t),yu(t)}function ju(t){t.G=0,t.I=-1,t.j&&(0==Ba(t.i).length&&0==t.l.length||(t.i.i.length=0,ss(t.l),t.l.length=0),t.j.ua())}function Nu(t,e,n){var r=function(t){return t instanceof fa?da(t):new fa(t,void 0)}(n);if(""!=r.i)e&&ga(r,e+"."+r.i),ma(r,r.m);else{var i=Hi.location;r=function(t,e,n,r){var i=new fa(null,void 0);return t&&pa(i,t),e&&ga(i,e),n&&ma(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ds(t.aa,function(t,e){va(r,e,t)}),n=t.sa,(e=t.D)&&n&&va(r,e,n),va(r,"VER",t.ma),wu(t,r),r}function Du(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tu(n&&t.Ba&&!t.qa?new Ka({ib:!0}):t.qa)).L=t.H,e}function Ru(){}function Pu(){if(ws&&!(10<=Number(js)))throw Error("Environmental error: no available transport.")}function Fu(t,e){eo.call(this),this.g=new pu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!os(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!os(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Vu(this)}function Lu(t){Bo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Mu(){Ho.call(this),this.status=1}function Vu(t){this.g=t}(Ui=tu.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Uo.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Uo),this.g.onreadystatechange=Ji(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void su(this,s)}t=n||"";var i=new ua(this.headers);r&&aa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=iu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Hi.FormData&&t instanceof Hi.FormData,!(0<=ns(ru,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cu(this),0<this.B&&((this.K=function(t){return ws&&function(){return t=ks,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=us(String(vs)).split("."),n=us("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=ls(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||ls(0==s[2].length,0==o[2].length)||ls(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ji(this.pa,this)):this.A=vo(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){su(this,s)}},Ui.pa=function(){void 0!==Bi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,no(this,"timeout"),this.abort(8))},Ui.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,no(this,"complete"),no(this,"abort"),uu(this))},Ui.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uu(this,!0)),tu.Z.M.call(this)},Ui.Fa=function(){this.s||(this.F||this.v||this.l?au(this):this.cb())},Ui.cb=function(){au(this)},Ui.ba=function(){try{return 2<lu(this)?this.g.status:-1}catch(bs){return-1}},Ui.ga=function(){try{return this.g?this.g.responseText:""}catch(bs){return""}},Ui.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xa(e)}},Ui.Da=function(){return this.m},Ui.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ui=pu.prototype).ma=8,Ui.G=1,Ui.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Ui.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new $o(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ms(n=ps(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Su(this,e,r),va(i=da(this.F),"RID",t),va(i,"CVER",22),this.D&&va(i,"X-HTTP-Session-Id",this.D),wu(this,i),this.o&&n&&fu(i,this.o,n),Ua(this.i,e),this.Ra&&va(i,"TYPE","init"),this.ja?(va(i,"$req",r),va(i,"SID","null"),e.$=!0,Yo(e,i,null)):Yo(e,i,r),this.G=2}}else 3==this.G&&(t?_u(this,t):0==this.l.length||La(this.i)||_u(this))},Ui.Ga=function(){if(this.u=null,Cu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Po(Ji(this.bb,this),t)}},Ui.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Do(10),mu(this),Cu(this))},Ui.ab=function(){null!=this.v&&(this.v=null,mu(this),Tu(this),Do(19))},Ui.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Do(2)):(this.h.info("Failed to ping google.com"),Do(1))},(Ui=Ru.prototype).xa=function(){},Ui.wa=function(){},Ui.va=function(){},Ui.ua=function(){},Ui.Oa=function(){},Pu.prototype.g=function(t,e){return new Fu(t,e)},Xi(Fu,eo),Fu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ho(Ji(t.hb,t,e))),Do(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Nu(t,null,t.W),bu(t)},Fu.prototype.close=function(){gu(this.g)},Fu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,vu(this.g,e)}else this.v?((e={}).__data__=io(t),vu(this.g,e)):vu(this.g,t)},Fu.prototype.M=function(){this.g.j=null,delete this.j,gu(this.g),delete this.g,Fu.Z.M.call(this)},Xi(Lu,Bo),Xi(Mu,Ho),Xi(Vu,Ru),Vu.prototype.xa=function(){no(this.g,"a")},Vu.prototype.wa=function(t){no(this.g,new Lu(t))},Vu.prototype.va=function(t){no(this.g,new Mu(t))},Vu.prototype.ua=function(){no(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Fu.prototype.send=Fu.prototype.u,Fu.prototype.open=Fu.prototype.m,Fu.prototype.close=Fu.prototype.close,Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Lo.COMPLETE="complete",Vo.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",eo.prototype.listen=eo.prototype.N,tu.prototype.listenOnce=tu.prototype.O,tu.prototype.getLastError=tu.prototype.La,tu.prototype.getLastErrorCode=tu.prototype.Da,tu.prototype.getStatus=tu.prototype.ba,tu.prototype.getResponseJson=tu.prototype.Qa,tu.prototype.getResponseText=tu.prototype.ga,tu.prototype.send=tu.prototype.ea;var Uu=Fo,qu=Lo,Bu=Io,Hu=Ka,zu=Vo,$u=tu,Gu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Gu.o=-1;var Ku={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Pi.c)(e,t),e}(Error),Wu=new Li.b("@firebase/firestore");function Yu(){return Wu.logLevel}function Ju(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Li.a.DEBUG){var r=e.map(tc);Wu.debug.apply(Wu,Object(Pi.f)(["Firestore (8.10.1): "+t],r))}}function Zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Li.a.ERROR){var r=e.map(tc);Wu.error.apply(Wu,Object(Pi.f)(["Firestore (8.10.1): "+t],r))}}function Xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Li.a.WARN){var r=e.map(tc);Wu.warn.apply(Wu,Object(Pi.f)(["Firestore (8.10.1): "+t],r))}}function tc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(tb){return t}}function ec(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function nc(t,e){t||ec()}function rc(t,e){return t}function ic(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var sc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ic(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function oc(t,e){return t<e?-1:t>e?1:0}function ac(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function uc(t){return t+"\0"}var cc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Qu(Ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Qu(Ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qu(Ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qu(Ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?oc(this.nanoseconds,t.nanoseconds):oc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),lc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new cc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function hc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ec(),void 0===n?n=t.length-e:n>t.length-e&&ec(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(pc),mc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return mc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Qu(Ku.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Qu(Ku.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Qu(Ku.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(pc),vc=function(){function t(t){this.fields=t,t.sort(yc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ac(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),bc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return oc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();bc.EMPTY_BYTE_STRING=new bc("");var _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(t){if(nc(!!t),"string"==typeof t){var e=0,n=_c.exec(t);if(nc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Sc(t.seconds),nanos:Sc(t.nanos)}}function Sc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ec(t){return"string"==typeof t?bc.fromBase64String(t):bc.fromUint8Array(t)}function Tc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oc(t){var e=t.mapValue.fields.__previous_value__;return Tc(e)?Oc(e):e}function Cc(t){var e=wc(t.mapValue.fields.__local_write_time__.timestampValue);return new cc(e.seconds,e.nanos)}function Ic(t){return null==t}function Ac(t){return 0===t&&1/t==-1/0}function xc(t){return"number"==typeof t&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(gc.fromString(e))},t.fromName=function(e){return new t(gc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===gc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return gc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new gc(e.slice()))},t}();function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tc(t)?4:10:ec()}function Nc(t,e){var n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wc(t.timestampValue),r=wc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ec(t.bytesValue).isEqual(Ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Sc(t.geoPointValue.latitude)===Sc(e.geoPointValue.latitude)&&Sc(t.geoPointValue.longitude)===Sc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Sc(t.integerValue)===Sc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Sc(t.doubleValue),r=Sc(e.doubleValue);return n===r?Ac(n)===Ac(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],Nc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(hc(n)!==hc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nc(n[i],r[i])))return!1;return!0}(t,e);default:return ec()}}function Dc(t,e){return void 0!==(t.values||[]).find(function(t){return Nc(t,e)})}function Rc(t,e){var n=jc(t),r=jc(e);if(n!==r)return oc(n,r);switch(n){case 0:return 0;case 1:return oc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Sc(t.integerValue||t.doubleValue),r=Sc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Pc(t.timestampValue,e.timestampValue);case 4:return Pc(Cc(t),Cc(e));case 5:return oc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ec(t),r=Ec(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=oc(n[i],r[i]);if(0!==s)return s}return oc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=oc(Sc(t.latitude),Sc(e.latitude));return 0!==n?n:oc(Sc(t.longitude),Sc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Rc(n[i],r[i]);if(s)return s}return oc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=oc(r[o],s[o]);if(0!==a)return a;var u=Rc(n[r[o]],i[s[o]]);if(0!==u)return u}return oc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ec()}}function Pc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return oc(t,e);var n=wc(t),r=wc(e),i=oc(n.seconds,r.seconds);return 0!==i?i:oc(n.nanos,r.nanos)}function Fc(t){return Lc(t)}function Lc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=wc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ec(t.bytesValue).toBase64():"referenceValue"in t?kc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Lc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Lc(t.fields[s])}return e+"}"}(t.mapValue):ec();var e}function Mc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Vc(t){return!!t&&"integerValue"in t}function Uc(t){return!!t&&"arrayValue"in t}function qc(t){return!!t&&"nullValue"in t}function Bc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return fc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=zc(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var $c=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Hc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zc(e)},t.prototype.setAll=function(t){var e=this,n=yc.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=zc(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Hc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Nc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Hc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){fc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(zc(this.value))},t}();function Gc(t){var e=[];return fc(t.fields,function(t,n){var r=new yc([t]);if(Hc(n)){var i=Gc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new vc(e)}var Kc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,lc.min(),$c.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,$c.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,$c.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=$c.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=$c.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Qc=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Wc(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Qc(t,e,n,r,i,s,o)}function Yc(t){var e=rc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Fc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=cl(e.startAt)),e.endAt&&(n+="|ub:",n+=cl(e.endAt)),e.h=n}return e.h}function Jc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Nc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dl(t.startAt,e.startAt)&&dl(t.endAt,e.endAt)}function Zc(t){return kc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Pi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new tl(t,n,r):"array-contains"===n?new il(t,r):"in"===n?new sl(t,r):"not-in"===n?new ol(t,r):"array-contains-any"===n?new al(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new el(t,n):new nl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Rc(e,this.value)):null!==e&&jc(this.value)===jc(e)&&this.m(Rc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ec()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),tl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=kc.fromName(r.referenceValue),i}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=kc.comparator(t.key,this.key);return this.m(e)},e}(Xc),el=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=rl(0,n),r}return Object(Pi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xc),nl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=rl(0,n),r}return Object(Pi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xc);function rl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return kc.fromName(t.referenceValue)})}var il=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Uc(e)&&Dc(e.arrayValue,this.value)},e}(Xc),sl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Dc(this.value.arrayValue,e)},e}(Xc),ol=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Dc(this.value.arrayValue,e)},e}(Xc),al=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Uc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Dc(e.value.arrayValue,t)})},e}(Xc),ul=function(t,e){this.position=t,this.before=e};function cl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fc(t)}).join(",")}var ll=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function hl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?kc.comparator(kc.fromName(o.referenceValue),n.key):Rc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function dl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Nc(t.position[n],e.position[n]))return!1;return!0}var pl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function gl(t,e,n,r,i,s,o,a){return new pl(t,e,n,r,i,s,o,a)}function ml(t){return new pl(t)}function yl(t){return!Ic(t.limit)&&"F"===t.limitType}function vl(t){return!Ic(t.limit)&&"L"===t.limitType}function bl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _l(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function wl(t){return null!==t.collectionGroup}function Sl(t){var e=rc(t);if(null===e.p){e.p=[];var n=_l(e),r=bl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ll(n)),e.p.push(new ll(yc.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ll(yc.keyField(),u))}}}return e.p}function El(t){var e=rc(t);if(!e.T)if("F"===e.limitType)e.T=Wc(e.path,e.collectionGroup,Sl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Sl(e);r<i.length;r++){var s=i[r];n.push(new ll(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new ul(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ul(e.startAt.position,!e.startAt.before):null;e.T=Wc(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Tl(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ol(t,e){return Jc(El(t),El(e))&&t.limitType===e.limitType}function Cl(t){return Yc(El(t))+"|lt:"+t.limitType}function Il(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Fc(e.value);var e}).join(", ")+"]"),Ic(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+cl(t.startAt)),t.endAt&&(e+=", endAt: "+cl(t.endAt)),"Target("+e+")"}(El(t))+"; limitType="+t.limitType+")"}function Al(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):kc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!fl(t.startAt,Sl(t),e)||t.endAt&&fl(t.endAt,Sl(t),e))}(t,e)}function xl(t){return function(e,n){for(var r=!1,i=0,s=Sl(t);i<s.length;i++){var o=s[i],a=kl(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function kl(t,e,n){var r=t.field.isKeyField()?kc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Rc(r,i):ec()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ec()}}function jl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function Nl(t){return{integerValue:""+t}}function Dl(t,e){return xc(e)?Nl(e):jl(t,e)}var Rl=function(){this._=void 0};function Pl(t,e,n){return t instanceof Ml?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vl?Ul(t,e):t instanceof ql?Bl(t,e):function(t,e){var n=Ll(t,e),r=zl(n)+zl(t.A);return Vc(n)&&Vc(t.A)?Nl(r):jl(t.R,r)}(t,e)}function Fl(t,e,n){return t instanceof Vl?Ul(t,e):t instanceof ql?Bl(t,e):n}function Ll(t,e){return t instanceof Hl?Vc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ml=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e}(Rl),Vl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pi.c)(e,t),e}(Rl);function Ul(t,e){for(var n=$l(e),r=function(t){n.some(function(e){return Nc(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pi.c)(e,t),e}(Rl);function Bl(t,e){for(var n=$l(e),r=function(t){n=n.filter(function(e){return!Nc(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Hl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Pi.c)(e,t),e}(Rl);function zl(t){return Sc(t.integerValue||t.doubleValue)}function $l(t){return Uc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Gl=function(t,e){this.field=t,this.transform=e},Kl=function(t,e){this.version=t,this.transformResults=e},Ql=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Wl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Yl=function(){};function Jl(t,e,n){t instanceof nh?function(t,e,n){var r=t.value.clone(),i=sh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof rh?function(t,e,n){if(Wl(t.precondition,e)){var r=sh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ih(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n){t instanceof nh?function(t,e,n){if(Wl(t.precondition,e)){var r=t.value.clone(),i=oh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(eh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof rh?function(t,e,n){if(Wl(t.precondition,e)){var r=oh(t.fieldTransforms,n,e),i=e.data;i.setAll(ih(t)),i.setAll(r),e.convertToFoundDocument(eh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Wl(t.precondition,e)&&e.convertToNoDocument(lc.min())}(t,e)}function Xl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Ll(s.transform,o||null);null!=a&&(null==n&&(n=$c.empty()),n.set(s.field,a))}return n||null}function th(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ac(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vl&&e instanceof Vl||t instanceof ql&&e instanceof ql?ac(t.elements,e.elements,Nc):t instanceof Hl&&e instanceof Hl?Nc(t.A,e.A):t instanceof Ml&&e instanceof Ml}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function eh(t){return t.isFoundDocument()?t.version:lc.min()}var nh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Pi.c)(e,t),e}(Yl),rh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Pi.c)(e,t),e}(Yl);function ih(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function sh(t,e,n){var r=new Map;nc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Fl(o,a,n[i]))}return r}function oh(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Pl(a,u,e))}return r}var ah,uh,ch=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Pi.c)(e,t),e}(Yl),lh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Pi.c)(e,t),e}(Yl),hh=function(t){this.count=t};function fh(t){switch(t){case Ku.OK:return ec();case Ku.CANCELLED:case Ku.UNKNOWN:case Ku.DEADLINE_EXCEEDED:case Ku.RESOURCE_EXHAUSTED:case Ku.INTERNAL:case Ku.UNAVAILABLE:case Ku.UNAUTHENTICATED:return!1;case Ku.INVALID_ARGUMENT:case Ku.NOT_FOUND:case Ku.ALREADY_EXISTS:case Ku.PERMISSION_DENIED:case Ku.FAILED_PRECONDITION:case Ku.ABORTED:case Ku.OUT_OF_RANGE:case Ku.UNIMPLEMENTED:case Ku.DATA_LOSS:return!0;default:return ec()}}function dh(t){if(void 0===t)return Zu("GRPC error has no .code"),Ku.UNKNOWN;switch(t){case ah.OK:return Ku.OK;case ah.CANCELLED:return Ku.CANCELLED;case ah.UNKNOWN:return Ku.UNKNOWN;case ah.DEADLINE_EXCEEDED:return Ku.DEADLINE_EXCEEDED;case ah.RESOURCE_EXHAUSTED:return Ku.RESOURCE_EXHAUSTED;case ah.INTERNAL:return Ku.INTERNAL;case ah.UNAVAILABLE:return Ku.UNAVAILABLE;case ah.UNAUTHENTICATED:return Ku.UNAUTHENTICATED;case ah.INVALID_ARGUMENT:return Ku.INVALID_ARGUMENT;case ah.NOT_FOUND:return Ku.NOT_FOUND;case ah.ALREADY_EXISTS:return Ku.ALREADY_EXISTS;case ah.PERMISSION_DENIED:return Ku.PERMISSION_DENIED;case ah.FAILED_PRECONDITION:return Ku.FAILED_PRECONDITION;case ah.ABORTED:return Ku.ABORTED;case ah.OUT_OF_RANGE:return Ku.OUT_OF_RANGE;case ah.UNIMPLEMENTED:return Ku.UNIMPLEMENTED;case ah.DATA_LOSS:return Ku.DATA_LOSS;default:return ec()}}(uh=ah||(ah={}))[uh.OK=0]="OK",uh[uh.CANCELLED=1]="CANCELLED",uh[uh.UNKNOWN=2]="UNKNOWN",uh[uh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uh[uh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uh[uh.NOT_FOUND=5]="NOT_FOUND",uh[uh.ALREADY_EXISTS=6]="ALREADY_EXISTS",uh[uh.PERMISSION_DENIED=7]="PERMISSION_DENIED",uh[uh.UNAUTHENTICATED=16]="UNAUTHENTICATED",uh[uh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uh[uh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uh[uh.ABORTED=10]="ABORTED",uh[uh.OUT_OF_RANGE=11]="OUT_OF_RANGE",uh[uh.UNIMPLEMENTED=12]="UNIMPLEMENTED",uh[uh.INTERNAL=13]="INTERNAL",uh[uh.UNAVAILABLE=14]="UNAVAILABLE",uh[uh.DATA_LOSS=15]="DATA_LOSS";var ph=function(){function t(t,e){this.comparator=t,this.root=e||mh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gh(this.root,t,this.comparator,!0)},t}(),gh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ec();if(this.right.isRed())throw ec();var t=this.left.check();if(t!==this.right.check())throw ec();return t+(this.isRed()?0:1)},t}();mh.EMPTY=null,mh.RED=!0,mh.BLACK=!1,mh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ec()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new mh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var yh=function(){function t(t){this.comparator=t,this.data=new ph(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new vh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new vh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),vh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),bh=new ph(kc.comparator);function _h(){return bh}var wh=new ph(kc.comparator);function Sh(){return wh}var Eh=new ph(kc.comparator);function Th(){return Eh}var Oh=new yh(kc.comparator);function Ch(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Oh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Ih=new yh(oc);function Ah(){return Ih}var xh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(lc.min(),r,Ah(),_h(),Ch())},t}(),kh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(bc.EMPTY_BYTE_STRING,n,Ch(),Ch(),Ch())},t}(),jh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Nh=function(t,e){this.targetId=t,this.V=e},Dh=function(t,e,n,r){void 0===n&&(n=bc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Rh=function(){function t(){this.S=0,this.D=Lh(),this.C=bc.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ch(),e=Ch(),n=Ch();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ec()}}),new kh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Lh()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Ph=function(){function t(t){this.W=t,this.G=new Map,this.H=_h(),this.J=Fh(),this.Y=new yh(oc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ec()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Zc(i))if(0===n){var s=new kc(i.path);this.tt(e,s,Kc.newNoDocument(s,lc.min()))}else nc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Zc(s.target)){var o=new kc(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Kc.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ch();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xh(t,n,this.Y,this.H,r);return this.H=_h(),this.J=Fh(),this.Y=new yh(oc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Rh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new yh(oc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ju("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Rh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Fh(){return new ph(kc.comparator)}function Lh(){return new ph(kc.comparator)}var Mh={asc:"ASCENDING",desc:"DESCENDING"},Vh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uh=function(t,e){this.databaseId=t,this.I=e};function qh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Hh(t,e){return qh(t,e.toTimestamp())}function zh(t){return nc(!!t),lc.fromTimestamp(function(t){var e=wc(t);return new cc(e.seconds,e.nanos)}(t))}function $h(t,e){return function(t){return new gc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Gh(t){var e=gc.fromString(t);return nc(yf(e)),e}function Kh(t,e){return $h(t.databaseId,e.path)}function Qh(t,e){var n=Gh(e);if(n.get(1)!==t.databaseId.projectId)throw new Qu(Ku.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qu(Ku.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new kc(Zh(n))}function Wh(t,e){return $h(t.databaseId,e)}function Yh(t){var e=Gh(t);return 4===e.length?gc.emptyPath():Zh(e)}function Jh(t){return new gc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zh(t){return nc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Xh(t,e,n){return{name:Kh(t,e),fields:n.value.mapValue.fields}}function tf(t,e,n){var r=Qh(t,e.name),i=zh(e.updateTime),s=new $c({mapValue:{fields:e.fields}}),o=Kc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ef(t,e){var n;if(e instanceof nh)n={update:Xh(t,e.key,e.value)};else if(e instanceof ch)n={delete:Kh(t,e.key)};else if(e instanceof rh)n={update:Xh(t,e.key,e.data),updateMask:mf(e.fieldMask)};else{if(!(e instanceof lh))return ec();n={verify:Kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ml)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ql)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ec()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Hh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ec()}(t,e.precondition)),n}function nf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ql.updateTime(zh(t.updateTime)):void 0!==t.exists?Ql.exists(t.exists):Ql.none()}(e.currentDocument):Ql.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(nc("REQUEST_TIME"===e.setToServerValue),n=new Ml):"appendMissingElements"in e?n=new Vl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ql(e.removeAllFromArray.values||[]):"increment"in e?n=new Hl(t,e.increment):ec();var r=yc.fromServerFormat(e.fieldPath);return new Gl(r,n)}(t,e)}):[];if(e.update){var i=Qh(t,e.update.name),s=new $c({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new vc((t.fieldPaths||[]).map(function(t){return yc.fromServerFormat(t)}))}(e.updateMask);return new rh(i,s,o,n,r)}return new nh(i,s,n,r)}if(e.delete){var a=Qh(t,e.delete);return new ch(a,n)}if(e.verify){var u=Qh(t,e.verify);return new lh(u,n)}return ec()}function rf(t,e){return{documents:[Wh(t,e.path)]}}function sf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Wh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Bc(t.value))return{unaryFilter:{field:ff(t.field),op:"IS_NAN"}};if(qc(t.value))return{unaryFilter:{field:ff(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bc(t.value))return{unaryFilter:{field:ff(t.field),op:"IS_NOT_NAN"}};if(qc(t.value))return{unaryFilter:{field:ff(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ff(t.field),op:hf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ff(t.field),direction:lf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Ic(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=uf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=uf(e.endAt)),n}function of(t){var e=Yh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=af(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ll(df(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ic(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=cf(n.startAt));var l=null;return n.endAt&&(l=cf(n.endAt)),gl(e,i,a,o,u,"F",c,l)}function af(t){return t?void 0!==t.unaryFilter?[gf(t)]:void 0!==t.fieldFilter?[pf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return af(t)}).reduce(function(t,e){return t.concat(e)}):ec():[]}function uf(t){return{before:t.before,values:t.position}}function cf(t){return new ul(t.values||[],!!t.before)}function lf(t){return Mh[t]}function hf(t){return Vh[t]}function ff(t){return{fieldPath:t.canonicalString()}}function df(t){return yc.fromServerFormat(t.fieldPath)}function pf(t){return Xc.create(df(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ec()}}(t.fieldFilter.op),t.fieldFilter.value)}function gf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=df(t.unaryFilter.field);return Xc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=df(t.unaryFilter.field);return Xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=df(t.unaryFilter.field);return Xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=df(t.unaryFilter.field);return Xc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ec()}}function mf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function yf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function vf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_f(e)),e=bf(t.get(n),e);return _f(e)}function bf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function _f(t){return t+"\x01\x01"}function wf(t){var e=t.length;if(nc(e>=2),2===e)return nc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),gc.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ec(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ec()}s=o+2}return new gc(r)}var Sf=function(t,e){this.seconds=t,this.nanoseconds=e},Ef=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ef.store="owner",Ef.key="owner";var Tf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Tf.store="mutationQueues",Tf.keyPath="userId";var Of=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Of.store="mutations",Of.keyPath="batchId",Of.userMutationsIndex="userMutationsIndex",Of.userMutationsKeyPath=["userId","batchId"];var Cf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vf(e)]},t.key=function(t,e,n){return[t,vf(e),n]},t}();Cf.store="documentMutations",Cf.PLACEHOLDER=new Cf;var If=function(t,e){this.path=t,this.readTime=e},Af=function(t,e){this.path=t,this.version=e},xf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};xf.store="remoteDocuments",xf.readTimeIndex="readTimeIndex",xf.readTimeIndexPath="readTime",xf.collectionReadTimeIndex="collectionReadTimeIndex",xf.collectionReadTimeIndexPath=["parentPath","readTime"];var kf=function(t){this.byteSize=t};kf.store="remoteDocumentGlobal",kf.key="remoteDocumentGlobalKey";var jf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};jf.store="targets",jf.keyPath="targetId",jf.queryTargetsIndexName="queryTargetsIndex",jf.queryTargetsKeyPath=["canonicalId","targetId"];var Nf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nf.store="targetDocuments",Nf.keyPath=["targetId","path"],Nf.documentTargetsIndex="documentTargetsIndex",Nf.documentTargetsKeyPath=["path","targetId"];var Df=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Df.key="targetGlobalKey",Df.store="targetGlobal";var Rf=function(t,e){this.collectionId=t,this.parent=e};Rf.store="collectionParents",Rf.keyPath=["collectionId","parent"];var Pf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pf.store="clientMetadata",Pf.keyPath="clientId";var Ff=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ff.store="bundles",Ff.keyPath="bundleId";var Lf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Lf.store="namedQueries",Lf.keyPath="name";var Mf=Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],[Tf.store,Of.store,Cf.store,xf.store,jf.store,Ef.store,Df.store,Nf.store]),[Pf.store])),[kf.store])),[Rf.store])),[Ff.store,Lf.store]),Vf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),qf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Bf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ec(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Hf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new qf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Gf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jf(e.target.error);n.ft.reject(new Gf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ju("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qf(e)},t}(),zf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Fi.i)())&&Zu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ju("SimpleDb","Removing database:",t),Wf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Fi.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ju("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Qu(Ku.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gf(t,n))},i.onupgradeneeded=function(t){Ju("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ju("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Pi.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Pi.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Hf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Bf.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Ju("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$f=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Wf(this.Pt.delete())},t}(),Gf=function(t){function e(e,n){var r=this;return(r=t.call(this,Ku.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Pi.c)(e,t),e}(Qu);function Kf(t){return"IndexedDbTransactionError"===t.name}var Qf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ju("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ju("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Wf(n)},t.prototype.add=function(t){return Ju("SimpleDb","ADD",this.store.name,t,t),Wf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Wf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ju("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ju("SimpleDb","DELETE",this.store.name,t),Wf(this.store.delete(t))},t.prototype.count=function(){return Ju("SimpleDb","COUNT",this.store.name),Wf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Ju("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Bf(function(n,r){e.onerror=function(t){var e=Jf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Bf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new $f(i),o=e(i.primaryKey,i.value,s);if(o instanceof Bf){var a=o.catch(function(t){return s.done(),Bf.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Bf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Wf(t){return new Bf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jf(t.target.error);n(e)}})}var Yf=!1;function Jf(t){var e=zf._t(Object(Fi.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Qu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Yf||(Yf=!0,setTimeout(function(){throw r},0)),r}}return t}var Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Pi.c)(e,t),e}(Uf);function Xf(t,e){var n=rc(t);return zf.It(n.Mt,e)}var td=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Jl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Zl(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Zl(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(lc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ch())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ac(this.mutations,t.mutations,function(t,e){return th(t,e)})&&ac(this.baseMutations,t.baseMutations,function(t,e){return th(t,e)})},t}(),ed=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){nc(e.mutations.length===r.length);for(var i=Th(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),nd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=lc.min()),void 0===s&&(s=lc.min()),void 0===o&&(o=bc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),rd=function(t){this.Lt=t};function id(t,e){if(e.document)return tf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=kc.fromSegments(e.noDocument.path),r=cd(e.noDocument.readTime),i=Kc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=kc.fromSegments(e.unknownDocument.path);return r=cd(e.unknownDocument.version),Kc.newUnknownDocument(s,r)}return ec()}function sd(t,e,n){var r=od(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Kh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:qh(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new xf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ud(e.version);return o=e.hasCommittedMutations,new xf(null,new If(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ud(e.version);return new xf(new Af(c,l),null,null,!0,r,i)}return ec()}function od(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(t){var e=new cc(t[0],t[1]);return lc.fromTimestamp(e)}function ud(t){var e=t.toTimestamp();return new Sf(e.seconds,e.nanoseconds)}function cd(t){var e=new cc(t.seconds,t.nanoseconds);return lc.fromTimestamp(e)}function ld(t,e){for(var n=(e.baseMutations||[]).map(function(e){return nf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return nf(t.Lt,e)}),s=cc.fromMillis(e.localWriteTimeMs);return new td(e.batchId,s,n,i)}function hd(t){var e,n,r=cd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?cd(t.lastLimboFreeSnapshotVersion):lc.min();return void 0!==t.query.documents?(nc(1===(n=t.query).documents.length),e=El(ml(Yh(n.documents[0])))):e=function(t){return El(of(t))}(t.query),new nd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,bc.fromBase64String(t.resumeToken))}function fd(t,e){var n,r=ud(e.snapshotVersion),i=ud(e.lastLimboFreeSnapshotVersion);n=Zc(e.target)?rf(t.Lt,e.target):sf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new jf(e.targetId,Yc(e.target),r,s,e.sequenceNumber,i,n)}function dd(t){var e=of({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tl(e,e.limit,"L"):e}var pd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return gd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:cd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return gd(t).put({bundleId:(n=e).id,createTime:ud(zh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return md(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:dd(e.bundledQuery),readTime:cd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return md(t).put(function(t){return{name:t.name,readTime:ud(zh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function gd(t){return Xf(t,Ff.store)}function md(t){return Xf(t,Lf.store)}var yd=function(){function t(){this.Bt=new vd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Bf.resolve()},t.prototype.getCollectionParents=function(t,e){return Bf.resolve(this.Bt.getEntries(e))},t}(),vd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new yh(gc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new yh(gc.comparator)).toArray()},t}(),bd=function(){function t(){this.qt=new vd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:vf(i)};return _d(t).put(s)}return Bf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[uc(e),""],!1,!0);return _d(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(wf(s.parent))}return n})},t}();function _d(t){return Xf(t,Rf.store)}var wd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ed(t,e,n){var r=t.store(Of.store),i=t.store(Cf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){nc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Cf.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Bf.waitFor(s).next(function(){return c})}function Td(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ec();e=t.noDocument}return JSON.stringify(e).length}Sd.DEFAULT_COLLECTION_PERCENTILE=10,Sd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sd.DEFAULT=new Sd(41943040,Sd.DEFAULT_COLLECTION_PERCENTILE,Sd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sd.DISABLED=new Sd(-1,0,0);var Od=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return nc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Id(t).$t({index:Of.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ad(t),o=Id(t);return o.add({}).next(function(a){nc("number"==typeof a);for(var u=new td(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ef(t.Lt,e)}),i=n.mutations.map(function(e){return ef(t.Lt,e)});return new Of(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new yh(function(t,e){return oc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Cf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Cf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Bf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Id(t).get(e).next(function(t){return t?(nc(t.userId===n.userId),ld(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Bf.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Id(t).$t({index:Of.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(nc(e.batchId>=r),s=ld(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Id(t).$t({index:Of.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Id(t).Nt(Of.userMutationsIndex,n).next(function(t){return t.map(function(t){return ld(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Cf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ad(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=wf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Id(t).get(u).next(function(t){if(!t)throw ec();nc(t.userId===n.userId),s.push(ld(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new yh(oc),i=[];return e.forEach(function(e){var s=Cf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ad(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=wf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Bf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Cf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new yh(oc);return Ad(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=wf(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Id(t).get(e).next(function(t){if(null===t)throw ec();nc(t.userId===n.userId),r.push(ld(n.R,t))}))}),Bf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ed(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Bf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Bf.resolve();var r=IDBKeyRange.lowerBound(Cf.prefixForUser(e.userId)),i=[];return Ad(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=wf(t[1]);i.push(s)}else r.done()}).next(function(){nc(0===i.length)})})},t.prototype.containsKey=function(t,e){return Cd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return xd(t).get(this.userId).next(function(t){return t||new Tf(e.userId,-1,"")})},t}();function Cd(t,e,n){var r=Cf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ad(t).$t({range:s,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Id(t){return Xf(t,Of.store)}function Ad(t){return Xf(t,Cf.store)}function xd(t){return Xf(t,Tf.store)}var kd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),jd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new kd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return lc.fromTimestamp(new cc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Nd(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return nc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Nd(t).$t(function(o,a){var u=hd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Bf.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Nd(t).$t(function(t,n){var r=hd(n);e(r)})},t.prototype.Xt=function(t){return Dd(t).get(Df.key).next(function(t){return nc(null!==t),t})},t.prototype.Zt=function(t,e){return Dd(t).put(Df.key,e)},t.prototype.te=function(t,e){return Nd(t).put(fd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Yc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Nd(t).$t({range:r,index:jf.queryTargetsIndexName},function(t,n,r){var s=hd(n);Jc(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Rd(t);return e.forEach(function(e){var o=vf(e.path);i.push(s.put(new Nf(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Bf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Rd(t);return Bf.forEach(e,function(e){var s=vf(e.path);return Bf.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Rd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rd(t),i=Ch();return r.$t({range:n,Ft:!0},function(t,e,n){var r=wf(t[1]),s=new kc(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=vf(e.path),r=IDBKeyRange.bound([n],[uc(n)],!1,!0),i=0;return Rd(t).$t({index:Nf.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Nd(t).get(e).next(function(t){return t?hd(t):null})},t}();function Nd(t){return Xf(t,jf.store)}function Dd(t){return Xf(t,Df.store)}function Rd(t){return Xf(t,Nf.store)}function Pd(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){if(t.code!==Ku.FAILED_PRECONDITION||t.message!==Vf)throw t;return Ju("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Fd(t,e){var n=t[1],r=e[1],i=oc(t[0],e[0]);return 0===i?oc(n,r):i}var Ld=function(){function t(t){this.ne=t,this.buffer=new yh(Fd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Md=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ju("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Kf(e=n.sent())?(Ju("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Pd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Vd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Bf.resolve(Gu.o);var r=new Ld(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector","Garbage collection skipped; disabled"),Bf.resolve(wd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),wd):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ju("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Yu()<=Li.a.DEBUG&&Ju("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Bf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ud=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Vd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return qd(t,n)},t.prototype.removeReference=function(t,e,n){return qd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return qd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return xd(t).Ot(function(r){return Cd(t,r,e).next(function(t){return t&&(n=!0),Bf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Rd(t).delete([0,vf(o.path)])})});i.push(u)}}).next(function(){return Bf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qd(t,e)},t.prototype.we=function(t,e){var n,r=Rd(t),i=Gu.o;return r.$t({index:Nf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Gu.o&&e(new kc(wf(n)),i),i=o,n=s):i=Gu.o}).next(function(){i!==Gu.o&&e(new kc(wf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qd(t,e){return Rd(t).put(function(t,e){return new Nf(0,vf(t.path),e)}(e,t.currentSequenceNumber))}var Bd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){fc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return dc(this.inner)},t}(),Hd=function(){function t(){this.changes=new Bd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:lc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Kc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Bf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),zd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Kd(t).put(Qd(e),n)},t.prototype.removeEntry=function(t,e){var n=Kd(t),r=Qd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Kd(t).get(Qd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Kd(t).get(Qd(e)).next(function(t){return{document:n.ye(e,t),size:Td(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=_h();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=_h(),i=new ph(kc.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Td(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Bf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Kd(t).$t({range:r},function(t,e,r){for(var o=kc.fromSegments(t);s&&kc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=_h(),s=e.path.length+1,o={};if(n.isEqual(lc.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=od(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=xf.collectionReadTimeIndex}return Kd(t).$t(o,function(t,n,o){if(t.length===s){var a=id(r.R,n);e.path.isPrefixOf(a.key.path)?Al(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new $d(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Gd(t).get(kf.key).next(function(t){return nc(!!t),t})},t.prototype.me=function(t,e){return Gd(t).put(kf.key,e)},t.prototype.ye=function(t,e){if(e){var n=id(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(lc.min()))return n}return Kc.newInvalidDocument(t)},t}(),$d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Bd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Pi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new yh(function(t,e){return oc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=sd(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Td(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=sd(e.Ie.R,Kc.newNoDocument(s,lc.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Bf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Hd);function Gd(t){return Xf(t,kf.store)}function Kd(t){return Xf(t,xf.store)}function Qd(t){return t.path.toArray()}var Wd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;nc(n<r&&n>=0&&r<=11);var s=new Hf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ef.store)}(t),function(t){t.createObjectStore(Tf.store,{keyPath:Tf.keyPath}),t.createObjectStore(Of.store,{keyPath:Of.keyPath,autoIncrement:!0}).createIndex(Of.userMutationsIndex,Of.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cf.store)}(t),Yd(t),function(t){t.createObjectStore(xf.store)}(t));var o=Bf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nf.store),t.deleteObjectStore(jf.store),t.deleteObjectStore(Df.store)}(t),Yd(t)),o=o.next(function(){return function(t){var e=t.store(Df.store),n=new Df(0,0,lc.min().toTimestamp(),0);return e.put(Df.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Of.store).Nt().next(function(n){t.deleteObjectStore(Of.store),t.createObjectStore(Of.store,{keyPath:Of.keyPath,autoIncrement:!0}).createIndex(Of.userMutationsIndex,Of.userMutationsKeyPath,{unique:!0});var r=e.store(Of.store),i=n.map(function(t){return r.put(t)});return Bf.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Pf.store,{keyPath:Pf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(kf.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xf.store);e.createIndex(xf.readTimeIndex,xf.readTimeIndexPath,{unique:!1}),e.createIndex(xf.collectionReadTimeIndex,xf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath})}(t),function(t){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(xf.store).$t(function(t,n){e+=Td(n)}).next(function(){var n=new kf(e);return t.store(kf.store).put(kf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Tf.store),r=t.store(Of.store);return n.Nt().next(function(n){return Bf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Of.userMutationsIndex,i).next(function(r){return Bf.forEach(r,function(r){nc(r.userId===n.userId);var i=ld(e.R,r);return Ed(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Nf.store),n=t.store(xf.store);return t.store(Df.store).get(Df.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new gc(n),o=function(t){return[0,vf(t)]}(s);r.push(e.get(o).next(function(n){return n?Bf.resolve():function(n){return e.put(new Nf(0,vf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Bf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath});var n=e.store(Rf.store),r=new vd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vf(i)})}};return e.store(xf.store).$t({Ft:!0},function(t,e){var n=new gc(t);return i(n.popLast())}).next(function(){return e.store(Cf.store).$t({Ft:!0},function(t,e){var n=wf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(jf.store);return n.$t(function(t,r){var i=hd(r),s=fd(e.R,i);return n.put(s)})},t}();function Yd(t){t.createObjectStore(Nf.store,{keyPath:Nf.keyPath}).createIndex(Nf.documentTargetsIndex,Nf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jf.store,{keyPath:jf.keyPath}).createIndex(jf.queryTargetsIndexName,jf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Df.store)}var Jd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zd=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Qu(Ku.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ud(this,i),this.Le=n+"main",this.R=new rd(u),this.Be=new zf(this.Le,11,new Wd(this.R)),this.qe=new jd(this.referenceDelegate,this.R),this.Ut=new bd,this.Ue=function(t,e){return new zd(t,e)}(this.R,this.Ut),this.Ke=new pd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Zu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Qu(Ku.FAILED_PRECONDITION,Jd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Gu(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return tp(e).put(new Pf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Kf(e))return Ju("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ju("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Xd(t).get(Ef.key).next(function(t){return Bf.resolve(e.tn(t))})},t.prototype.en=function(t){return tp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Xf(t,Pf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Bf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Bf.resolve(!0):Xd(t).get(Ef.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Qu(Ku.FAILED_PRECONDITION,Jd);return!1}}return!(!e.networkEnabled||!e.inForeground)||tp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ju("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t=this;return Object(Pi.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ef.store,Pf.store],function(e){var n=new Zf(e,Gu.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return tp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Od.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ju("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Mf,function(s){return r=new Zf(s,i.Ne?i.Ne.next():Gu.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Zu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Qu(Ku.FAILED_PRECONDITION,Vf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Xd(t).get(Ef.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Qu(Ku.FAILED_PRECONDITION,Jd)})},t.prototype.Ze=function(t){var e=new Ef(this.clientId,this.allowTabSynchronization,Date.now());return Xd(t).put(Ef.key,e)},t.yt=function(){return zf.yt()},t.prototype.Xe=function(t){var e=this,n=Xd(t);return n.get(Ef.key).next(function(t){return e.tn(t)?(Ju("IndexedDbPersistence","Releasing primary lease."),n.delete(Ef.key)):Bf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Zu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(Fi.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ju("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Zu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Zu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Xd(t){return Xf(t,Ef.store)}function tp(t){return Xf(t,Pf.store)}function ep(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var np=function(t,e){this.progress=t,this.wn=e},rp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return kc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):wl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new kc(e)).next(function(t){var e=Sh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Sh();return this.Ut.getCollectionParents(t,i).next(function(o){return Bf.forEach(o,function(o){var a=function(t,e){return new pl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Kc.newInvalidDocument(c),r=r.insert(c,l)),Zl(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Al(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ch(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof rh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ip=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ch(),i=Ch(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(lc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(yl(e)||vl(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Yu()<=Li.a.DEBUG&&Ju("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Il(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new yh(xl(t));return e.forEach(function(e,r){Al(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Yu()<=Li.a.DEBUG&&Ju("QueryEngine","Using full collection scan to execute query:",Il(e)),this.Sn.getDocumentsMatchingQuery(t,e,lc.min())},t}(),op=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new ph(oc),this.Fn=new Bd(function(t){return Yc(t)},Jc),this.$n=lc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new rp(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function ap(t,e,n,r){return new op(t,e,n,r)}function up(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:return n=rc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new rp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ch(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function cp(t,e){var n=rc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Bf.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);nc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function lp(t){var e=rc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function hp(t,e){var n=rc(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return nc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=_h();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(fp(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(lc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Bf.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function fp(t,e,n,r,i){var s=Ch();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=_h();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(lc.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Ju("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function dp(t,e){var n=rc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function pp(t,e){var n=rc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Bf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new nd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function gp(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:r=rc(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Kf(o=a.sent()))throw o;return Ju("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function mp(t,e,n){var r=rc(t),i=lc.min(),s=Ch();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=rc(t),i=r.Fn.get(n);return void 0!==i?Bf.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,El(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:lc.min(),n?s:Ch())}).next(function(t){return{documents:t,Bn:s}})})}function yp(t,e){var n=rc(t),r=rc(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function vp(t){var e=rc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=rc(t),i=_h(),s=od(n),o=Kd(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:xf.readTimeIndex,range:a},function(t,e){var n=id(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:ad(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function bp(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){return[2,(e=rc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kd(t),n=lc.min();return e.$t({index:xf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ad(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function _p(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Pi.d)(this,function(p){switch(p.label){case 0:for(i=rc(t),s=Ch(),o=_h(),a=Th(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,pp(i,function(t){return El(ml(gc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return fp(t,f,o,lc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function wp(t,e,n){return void 0===n&&(n=Ch()),Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,pp(t,El(dd(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=rc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=zh(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(bc.EMPTY_BYTE_STRING,s);return i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Sp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Bf.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:zh(n.createTime)}),Bf.resolve()},t.prototype.getNamedQuery=function(t,e){return Bf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:dd(t.bundledQuery),readTime:zh(t.readTime)}}(e)),Bf.resolve()},t}(),Ep=function(){function t(){this.Wn=new yh(Tp.Gn),this.zn=new yh(Tp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Tp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Tp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new kc(new gc([])),r=new Tp(n,t),i=new Tp(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new kc(new gc([])),n=new Tp(e,t),r=new Tp(e,t+1),i=Ch();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Tp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Tp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return kc.comparator(t.key,e.key)||oc(t.ns,e.ns)},t.Hn=function(t,e){return oc(t.ns,e.ns)||kc.comparator(t.key,e.key)},t}(),Op=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new yh(Tp.Gn)}return t.prototype.checkEmpty=function(t){return Bf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new td(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Tp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Bf.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Bf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Bf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Bf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Bf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Tp(e,0),i=new Tp(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Bf.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new yh(oc);return e.forEach(function(t){var e=new Tp(t,0),i=new Tp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Bf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;kc.isDocumentKey(i)||(i=i.child(""));var s=new Tp(new kc(i),0),o=new yh(oc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Bf.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;nc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Bf.forEach(e.mutations,function(i){var s=new Tp(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Tp(e,0),r=this.rs.firstAfterOrEqual(n);return Bf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Bf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Cp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ph(kc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Bf.resolve(n?n.document.clone():Kc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=_h();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Kc.newInvalidDocument(t))}),Bf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=_h(),i=new kc(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Al(e,u)&&(r=r.insert(u.key,u.clone()))}return Bf.resolve(r)},t.prototype.fs=function(t,e){return Bf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ip(this)},t.prototype.getSize=function(t){return Bf.resolve(this.size)},t}(),Ip=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Pi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Bf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Hd),Ap=function(){function t(t){this.persistence=t,this.ds=new Bd(function(t){return Yc(t)},Jc),this.lastRemoteSnapshotVersion=lc.min(),this.highestTargetId=0,this.ws=0,this._s=new Ep,this.targetCount=0,this.ys=kd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Bf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Bf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Bf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Bf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Bf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new kd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Bf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Bf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Bf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Bf.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Bf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Bf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Bf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Bf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Bf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Bf.resolve(n)},t.prototype.containsKey=function(t,e){return Bf.resolve(this._s.containsKey(e))},t}(),xp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Gu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ap(this),this.Ut=new yd,this.Ue=function(t,e){return new Cp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new rd(e),this.Ke=new Sp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Op(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Ju("MemoryPersistence","Starting transaction:",t);var i=new kp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Bf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),kp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Pi.c)(e,t),e}(Uf),jp=function(){function t(t){this.persistence=t,this.As=new Ep,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ec()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Bf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Bf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Bf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bf.forEach(this.vs,function(r){var i=kc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Bf.or([function(){return Bf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Np=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Dp(t,e){return"firestore_clients_"+t+"_"+e}function Rp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Pp(t,e){return"firestore_targets_"+t+"_"+e}Np.UNAUTHENTICATED=new Np(null),Np.GOOGLE_CREDENTIALS=new Np("google-credentials-uid"),Np.FIRST_PARTY=new Np("first-party-uid"),Np.MOCK_USER=new Np("mock-user");var Fp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Qu(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Zu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Qu(i.error.code,i.error.message)),s?new t(e,i.state,r):(Zu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ah(),o=0;i&&o<r.activeTargetIds.length;++o)i=xc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Zu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Zu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Up=function(){function t(){this.activeTargetIds=Ah()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),qp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ph(oc),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Dp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Up),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Pi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Dp(this.persistenceKey,r)))&&(s=Mp.Vs(r,i))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Pp(this.persistenceKey,t));if(n){var r=Lp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Pp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ju("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ju("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ju("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ju("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Zu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Pi.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Pi.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Gu.o;if(null!=t)try{var n=JSON.parse(t);nc("number"==typeof n),e=n}catch(t){Zu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gu.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Fp(this.currentUser,t,e,n),i=Rp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Rp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Pp(this.persistenceKey,t),i=new Lp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Mp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Fp.Vs(new Np(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Lp.Vs(r,e)},t.prototype.js=function(t){return Vp.Vs(t)},t.prototype.ii=function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ju("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ah();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Bp=function(){function t(){this.li=new Up,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Up,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Hp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),zp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ju("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ju("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$p={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Kp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Pi.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,s){var o=new $u;o.listenOnce(qu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Uu.NO_ERROR:var e=o.getResponseJson();Ju("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Uu.TIMEOUT:Ju("Connection",'RPC "'+t+'" timed out'),s(new Qu(Ku.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:var n=o.getStatus();if(Ju("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ku).indexOf(e)>=0?e:Ku.UNKNOWN}(r.status);s(new Qu(a,r.message))}else s(new Qu(Ku.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Qu(Ku.UNAVAILABLE,"Connection failed."));break;default:ec()}}finally{Ju("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pu,i=xo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Hu({})),this.ki(s.initMessageHeaders,e),Object(Fi.n)()||Object(Fi.p)()||Object(Fi.l)()||Object(Fi.m)()||Object(Fi.r)()||Object(Fi.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ju("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Gp({Ei:function(t){c?Ju("Connection","Not sending because WebChannel is closed:",t):(u||(Ju("Connection","Opening WebChannel transport."),a.open(),u=!0),Ju("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,zu.EventType.OPEN,function(){c||Ju("Connection","WebChannel transport opened.")}),h(a,zu.EventType.CLOSE,function(){c||(c=!0,Ju("Connection","WebChannel transport closed"),l.Vi())}),h(a,zu.EventType.ERROR,function(t){c||(c=!0,Xu("Connection","WebChannel transport errored:",t),l.Vi(new Qu(Ku.UNAVAILABLE,"The operation could not be completed")))}),h(a,zu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];nc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ju("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=ah[t];if(void 0!==e)return dh(e)}(i),o=r.message;void 0===s&&(s=Ku.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Qu(s,o)),a.close()}else Ju("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Bu.STAT_EVENT,function(t){10===t.stat?Ju("Connection","Detected buffering proxy"):11===t.stat&&Ju("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ju("RestConnection","Sending: ",i,n);var s={};return this.ki(s,r),this.Fi(t,i,s,n).then(function(t){return Ju("RestConnection","Received: ",t),t},function(e){throw Xu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+$p[t]},t}());function Qp(){return"undefined"!=typeof window?window:null}function Wp(){return"undefined"!=typeof document?document:null}function Yp(t){return new Uh(t,!0)}var Jp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ju("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Zp=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ku.RESOURCE_EXHAUSTED?(Zu(e.toString()),Zu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ku.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Qu(Ku.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Pi.b)(t,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ju("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ju("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Xp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Pi.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ec()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(nc(void 0===e||"string"==typeof e),bc.fromBase64String(e||"")):(nc(void 0===e||e instanceof Uint8Array),bc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ku.UNKNOWN:dh(t.code);return new Qu(e,t.message||"")}(a);n=new Dh(r,i,s,o||null)}else if("documentChange"in e){i=Qh(t,(r=e.documentChange).document.name),s=zh(r.document.updateTime);var a=new $c({mapValue:{fields:r.document.fields}}),u=(o=Kc.newFoundDocument(i,s,a),r.targetIds||[]);n=new jh(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Qh(t,(r=e.documentDelete).document),s=r.readTime?zh(r.readTime):lc.min(),a=Kc.newNoDocument(i,s),n=new jh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Qh(t,(r=e.documentRemove).document),n=new jh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ec();var c=e.filter;i=new hh(r=c.count||0),n=new Nh(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return lc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?lc.min():e.readTime?zh(e.readTime):lc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Jh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Zc(r)?{documents:rf(t,r)}:{query:sf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Bh(t,e.resumeToken):e.snapshotVersion.compareTo(lc.min())>0&&(n.readTime=qh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ec()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Jh(this.R),e.removeTarget=t,this.cr(e)},e}(Zp),tg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(nc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(nc(void 0!==e),t.map(function(t){return function(t,e){var n=zh(t.updateTime?t.updateTime:e);return n.isEqual(lc.min())&&(n=zh(e)),new Kl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=zh(t.commitTime);return this.listener.Tr(n,e)}return nc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Jh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ef(e.R,t)})};this.cr(n)},e}(Zp),eg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Pi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Qu(Ku.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ku.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qu(Ku.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ku.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qu(Ku.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ng=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Zu(e),this.Vr=!1):Ju("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),rg=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Pi.b)(s,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return fg(this)?(Ju("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return(e=rc(t)).Or.add(4),[4,sg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ig(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ng(n,r)};function ig(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:if(!fg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sg(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function og(t,e){var n=rc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),hg(n)?lg(n):Ig(n).er()&&ug(n,e))}function ag(t,e){var n=rc(t),r=Ig(n);n.$r.delete(e),r.er()&&cg(n,e),0===n.$r.size&&(r.er()?r.ir():fg(n)&&n.Br.set("Unknown"))}function ug(t,e){t.qr.U(e.targetId),Ig(t).mr(e)}function cg(t,e){t.qr.U(e),Ig(t).yr(e)}function lg(t){t.qr=new Ph({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ig(t).start(),t.Br.Sr()}function hg(t){return fg(t)&&!Ig(t).tr()&&t.$r.size>0}function fg(t){return 0===rc(t).Or.size}function dg(t){t.qr=void 0}function pg(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return t.$r.forEach(function(e,n){ug(t,e)}),[2]})})}function gg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){return dg(t),hg(t)?(t.Br.Nr(e),lg(t)):t.Br.set("Unknown"),[2]})})}function mg(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Dh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Ju("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof jh?t.qr.X(e):e instanceof Nh?t.qr.rt(e):t.qr.et(e),n.isEqual(lc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,lp(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(bc.EMPTY_BYTE_STRING,n.snapshotVersion)),cg(t,e);var r=new nd(n.target,e,1,n.sequenceNumber);ug(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ju("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,yg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function yg(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:if(!Kf(e))throw e;return t.Or.add(1),[4,sg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return lp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Pi.b)(r,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return Ju("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ig(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function vg(t,e){return e().catch(function(n){return yg(t,n,e)})}function bg(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:e=rc(t),n=Ag(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return fg(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,dp(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Ag(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,yg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return _g(e)&&wg(e),[2]}})})}function _g(t){return fg(t)&&!Ag(t).tr()&&t.Fr.length>0}function wg(t){Ag(t).start()}function Sg(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return Ag(t).Ar(),[2]})})}function Eg(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Pi.d)(this,function(i){for(e=Ag(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Tg(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=ed.from(r,e,n),[4,vg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,bg(t)];case 2:return s.sent(),[2]}})})}function Og(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e&&Ag(t).pr?[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return fh(r=e.code)&&r!==Ku.ABORTED?(n=t.Fr.shift(),Ag(t).sr(),[4,vg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,bg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _g(t)&&wg(t),[2]}})})}function Cg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return n=rc(t),e?(n.Or.delete(2),[4,ig(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,sg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ig(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=rc(t);return r.br(),new Xp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:pg.bind(null,t),Ri:gg.bind(null,t),_r:mg.bind(null,t)}),t.Mr.push(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),hg(t)?lg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),dg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Ag(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=rc(t);return r.br(),new tg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sg.bind(null,t),Ri:Og.bind(null,t),Ir:Eg.bind(null,t),Tr:Tg.bind(null,t)}),t.Mr.push(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,bg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Ju("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var xg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new qf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qu(Ku.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function kg(t,e){if(Zu("AsyncQueue",e+": "+t),Kf(t))return new Qu(Ku.UNAVAILABLE,e+": "+t);throw t}var jg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||kc.comparator(e.key,n.key)}:function(t,e){return kc.comparator(t.key,e.key)},this.keyedMap=Sh(),this.sortedSet=new ph(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ng=function(){function t(){this.Qr=new ph(kc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):ec():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Dg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,jg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ol(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Rg=function(){this.Wr=void 0,this.listeners=[]},Pg=function(){this.queries=new Bd(function(t){return Cl(t)},Ol),this.onlineState="Unknown",this.Gr=new Set};function Fg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Pi.d)(this,function(c){switch(c.label){case 0:if(n=rc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Rg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=kg(a,"Initialization of query '"+Il(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Ug(n),[2]}})})}function Lg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){return n=rc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Mg(t,e){for(var n=rc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Ug(n)}function Vg(t,e,n){var r=rc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Ug(t){t.Gr.forEach(function(t){t.next()})}var qg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Dg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Dg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Bg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Hg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Qh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?tf(this.R,t.document,!1):Kc.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return zh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Hg(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ch()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,_p(this.localStore,new Hg(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,wp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new np(Object.assign({},this.progress),t))]}})})}}();var zg=function(t){this.key=t},$g=function(t){this.key=t},Gg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ch(),this.mutatedKeys=Ch(),this.lo=xl(t),this.fo=new jg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ng,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=yl(this.query)&&i.size===this.query.limit?i.last():null,c=vl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Al(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),yl(this.query)||vl(this.query))for(;o.size>this.query.limit;){var l=yl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ec()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Dg(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ng,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ch(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new $g(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new zg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ch();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Dg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Kg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Qg=function(t){this.key=t,this.bo=!1},Wg=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Bd(function(t){return Cl(t)},Ol),this.Vo=new Map,this.So=new Set,this.Do=new ph(kc.comparator),this.Co=new Map,this.No=new Ep,this.xo={},this.ko=new Map,this.Fo=kd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Yg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return n=Om(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,pp(n.localStore,El(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Jg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&og(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Jg(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,mp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(lm(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,mp(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Gg(e,i.Bn),o=s._o(i.documents),a=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),lm(t,n,u.To),c=new Kg(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Zg(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return n=rc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ol(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,gp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ag(n.remoteStore,r.targetId),um(n,r.targetId)}).catch(Pd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return um(n,r.targetId),[4,gp(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Xg(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:r=Cm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=rc(t),i=cc.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ch());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Xl(c,n.get(c.key));null!=l&&o.push(new rh(c.key,l,Gc(l.value.mapValue),Ql.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ph(oc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,dm(r,i.changes)];case 3:return a.sent(),[4,bg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=kg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function tm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:n=rc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,hp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(nc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?nc(r.bo):t.removedDocuments.size>0&&(nc(r.bo),r.bo=!1))}),[4,dm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Pd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function em(t,e,n){var r=rc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=rc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Ug(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nm(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Pi.d)(this,function(c){switch(c.label){case 0:return(r=rc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new ph(kc.comparator)).insert(s,Kc.newNoDocument(s,lc.min())),a=Ch().add(s),u=new xh(lc.min(),new Map,new yh(oc),o,a),[4,tm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),fm(r),[3,4];case 2:return[4,gp(r.localStore,e,!1).then(function(){return um(r,e,n)}).catch(Pd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function rm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:n=rc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,cp(n.localStore,e)];case 2:return i=s.sent(),am(n,r,null),om(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,dm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Pd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function im(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:r=rc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=rc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return nc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),am(r,e,n),om(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,dm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Pd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:fg((n=rc(t)).remoteStore)||Ju("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=rc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=a.sent(),o=kg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function om(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function am(t,e,n){var r=rc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function um(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||cm(t,e)})}function cm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ag(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),fm(t))}function lm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof zg?(t.No.addReference(s.key,e),hm(t,s)):s instanceof $g?(Ju("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||cm(t,s.key)):ec()}}function hm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ju("SyncEngine","New document in limbo: "+n),t.So.add(r),fm(t))}function fm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new kc(gc.fromString(e)),r=t.Fo.next();t.Co.set(r,new Qg(n)),t.Do=t.Do.insert(n,r),og(t.remoteStore,new nd(El(ml(n.path)),r,2,Gu.o))}}function dm(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return r=rc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ip.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:n=rc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Bf.forEach(e,function(e){return Bf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Bf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Kf(r=l.sent()))throw r;return Ju("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function pm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return(n=rc(t)).currentUser.isEqual(e)?[3,3]:(Ju("SyncEngine","User change. New user:",e.toKey()),[4,up(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Qu(Ku.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,dm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gm(t,e){var n=rc(t),r=n.Co.get(e);if(r&&r.bo)return Ch().add(r.key);var i=Ch(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function mm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,mp((n=rc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&lm(n,e.targetId,i.To),i)]}})})}function ym(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){return[2,vp((e=rc(t)).localStore).then(function(t){return dm(e,t)})]})})}function vm(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=rc(t),r=rc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Bf.resolve(null)})})}((i=rc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,bg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(am(i,e,r||null),om(i,e),function(t,e){rc(rc(t)._n).Gt(e)}(i.localStore,e)):ec(),o.label=4;case 4:return[4,dm(i,s)];case 5:return o.sent(),[3,7];case 6:Ju("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function bm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Pi.d)(this,function(c){switch(c.label){case 0:return Om(n=rc(t)),Cm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,_m(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Cg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)og(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return um(n,e),gp(n.localStore,e,!0)}),ag(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,_m(n,a)];case 5:return c.sent(),function(t){var e=rc(t);e.Co.forEach(function(t,n){ag(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ph(kc.comparator)}(n),n.$o=!1,[4,Cg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function _m(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Pi.d)(this,function(g){switch(g.label){case 0:n=rc(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,pp(n.localStore,El(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,mm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yp(n.localStore,a)];case 8:return p=g.sent(),[4,pp(n.localStore,p)];case 9:return u=g.sent(),[4,Jg(n,wm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function wm(t){return gl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sm(t){var e=rc(t);return rc(rc(e.localStore).persistence).fn()}function Em(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return(i=rc(t)).$o?(Ju("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vp(i.localStore)];case 3:return s=a.sent(),o=xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,dm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,gp(i.localStore,e,!0)];case 6:return a.sent(),um(i,e,r),[3,8];case 7:ec(),a.label=8;case 8:return[2]}})})}function Tm(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Pi.d)(this,function(f){switch(f.label){case 0:if(!(r=Om(t)).$o)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Ju("SyncEngine","Adding an already active target "+o),[3,5]):[4,yp(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,pp(r.localStore,a)];case 3:return u=f.sent(),[4,Jg(r,wm(a),u.targetId,!1)];case 4:f.sent(),og(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,gp(r.localStore,t,!1).then(function(){ag(r.remoteStore,t),um(r,t)}).catch(Pd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Om(t){var e=rc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nm.bind(null,e),e.vo._r=Mg.bind(null,e.eventManager),e.vo.Mo=Vg.bind(null,e.eventManager),e}function Cm(t){var e=rc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=im.bind(null,e),e}var Im=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return this.R=Yp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return ap(this.persistence,new sp,t.initialUser,this.R)},t.prototype.qo=function(t){return new xp(jp.bs,this.R)},t.prototype.Bo=function(t){return new Bp},t.prototype.terminate=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Am=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Pi.c)(e,t),e.prototype.initialize=function(e){return Object(Pi.b)(this,void 0,void 0,function(){var n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,bp(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Cm(this.Qo.syncEngine)];case 4:return r.sent(),[4,bg(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return ap(this.persistence,new sp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Md(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=ep(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sd.withCacheSize(this.cacheSizeBytes):Sd.DEFAULT;return new Zd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Qp(),Wp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Bp},e}(Im),xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Pi.c)(e,t),e.prototype.initialize=function(e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof qp?(this.sharedClientState.syncEngine={ui:vm.bind(null,n),ai:Em.bind(null,n),hi:Tm.bind(null,n),fn:Sm.bind(null,n),ci:ym.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Pi.b)(r,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return[4,bm(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Qp();if(!qp.yt(e))throw new Qu(Ku.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ep(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new qp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Am),km=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return em(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pm.bind(null,this.syncEngine),[4,Cg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Pg},t.prototype.createDatastore=function(t){var e=Yp(t.databaseInfo.databaseId),n=new Kp(t.databaseInfo);return function(t,e,n){return new eg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return em(o.syncEngine,t,0)},s=zp.yt()?new zp:new Hp,new rg(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Wg(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=rc(t),Ju("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,sg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),jm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Nm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new qf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Bg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qu(Ku.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Pi.d)(this,function(u){switch(u.label){case 0:return n=rc(t),r=Jh(n.R)+"/documents",i={documents:e.map(function(t){return Kh(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){nc(!!e.found);var n=Qh(t,e.found.name),r=zh(e.found.updateTime),i=new $c({mapValue:{fields:e.found.fields}});return Kc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){nc(!!e.missing),nc(!!e.readTime);var n=Qh(t,e.missing),r=zh(e.readTime);return Kc.newNoDocument(n,r)}(t,e):ec()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());nc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ch(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=kc.fromPath(n);e.mutations.push(new lh(r,e.precondition(r)))}),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return n=rc(t),r=Jh(n.R)+"/documents",i={writes:e.map(function(t){return ef(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ec();e=lc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Qu(Ku.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ql.updateTime(e):Ql.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(lc.min()))throw new Qu(Ku.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ql.updateTime(e)}return Ql.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Dm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Pi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Pi.d)(this,function(r){return t=new Nm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ic(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!fh(e)}return!1},t}(),Rm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Np.UNAUTHENTICATED,this.clientId=sc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Pi.b)(r,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return Ju("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Qu(Ku.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new qf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pi.b)(t,void 0,void 0,function(){var t,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=kg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Pm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ju("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Pi.b)(i,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,up(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Fm(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Lm(t)];case 1:return n=i.sent(),Ju("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return(n=rc(t)).asyncQueue.verifyOperationInProgress(),Ju("RemoteStore","RemoteStore received new credentials"),r=fg(n),n.Or.add(3),[4,sg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ig(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Lm(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ju("FirestoreClient","Using default OfflineComponentProvider"),[4,Pm(t,new Im)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Mm(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ju("FirestoreClient","Using default OnlineComponentProvider"),[4,Fm(t,new km)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Vm(t){return Lm(t).then(function(t){return t.persistence})}function Um(t){return Lm(t).then(function(t){return t.localStore})}function qm(t){return Mm(t).then(function(t){return t.remoteStore})}function Bm(t){return Mm(t).then(function(t){return t.syncEngine})}function Hm(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,Mm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Yg.bind(null,e.syncEngine),n.onUnlisten=Zg.bind(null,e.syncEngine),n)]}})})}function zm(t,e,n){var r=this;void 0===n&&(n={});var i=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new jm({next:function(s){e.enqueueAndForget(function(){return Lg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Qu(Ku.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Qu(Ku.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new qg(ml(n.path),s,{includeMetadataChanges:!0,so:!0});return Fg(t,o)},[4,Hm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function $m(t,e,n){var r=this;void 0===n&&(n={});var i=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new jm({next:function(n){e.enqueueAndForget(function(){return Lg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Qu(Ku.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new qg(n,s,{includeMetadataChanges:!0,so:!0});return Fg(t,o)},[4,Hm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Gm=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Km=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Qm=new Map,Wm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ym=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Np.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Jm=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zm=function(){function t(t){var e=this;this.currentUser=Np.UNAUTHENTICATED,this.oc=new qf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Ju("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Ju("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ju("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(nc("string"==typeof n.accessToken),new Wm(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Pi.b)(n,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return nc(null===t||"string"==typeof t),new Np(t)},t}(),Xm=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Np.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ty=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Xm(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Np.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ey(t,e,n){if(!n)throw new Qu(Ku.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ny(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ry(t,e,n,r){if(!0===e&&!0===r)throw new Qu(Ku.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function iy(t){if(!kc.isDocumentKey(t))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sy(t){if(kc.isDocumentKey(t))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function oy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ec()}function ay(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qu(Ku.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oy(t);throw new Qu(Ku.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function uy(t,e){if(e<=0)throw new Qu(Ku.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var cy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Qu(Ku.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qu(Ku.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ry("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ly=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cy({}),this._settingsFrozen=!1,t instanceof Km?(this._databaseId=t,this._credentials=new Ym):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Qu(Ku.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Km(t.options.projectId)}(t),this._credentials=new Zm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Qu(Ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Qu(Ku.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ym;switch(t.type){case"gapi":var e=t.client;return nc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ty(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Qu(Ku.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Qm.get(this))&&(Ju("ComponentProvider","Removing Datastore"),Qm.delete(this),t.terminate()),Promise.resolve();var t},t}(),hy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new dy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),fy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),dy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ml(r))||this)._path=r,i.type="collection",i}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new hy(this.firestore,null,new kc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(fy);function py(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Fi.h)(t),ey("collection","path",e),t instanceof ly)return sy(n=gc.fromString.apply(gc,Object(Pi.f)([e],r))),new dy(t,null,n);if(!(t instanceof hy||t instanceof dy))throw new Qu(Ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sy(n=gc.fromString.apply(gc,Object(Pi.f)([t.path],r)).child(gc.fromString(e))),new dy(t.firestore,null,n)}function gy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Fi.h)(t),1===arguments.length&&(e=sc.u()),ey("doc","path",e),t instanceof ly)return iy(n=gc.fromString.apply(gc,Object(Pi.f)([e],r))),new hy(t,null,new kc(n));if(!(t instanceof hy||t instanceof dy))throw new Qu(Ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return iy(n=t._path.child(gc.fromString.apply(gc,Object(Pi.f)([e],r)))),new hy(t.firestore,t instanceof dy?t.converter:null,new kc(n))}function my(t,e){return t=Object(Fi.h)(t),e=Object(Fi.h)(e),(t instanceof hy||t instanceof dy)&&(e instanceof hy||e instanceof dy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yy(t,e){return t=Object(Fi.h)(t),e=Object(Fi.h)(e),t instanceof fy&&e instanceof fy&&t.firestore===e.firestore&&Ol(t._query,e._query)&&t.converter===e.converter}var vy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Jp(this,"async_queue_retry"),this.Ic=function(){var e=Wp();e&&Ju("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Wp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new qf;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pi.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Kf(t=n.sent()))throw t;return Ju("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Zu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=xg.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&ec()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t;return Object(Pi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function by(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new qf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var _y=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new vy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Pi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Sy(this),this._firestoreClient.terminate()},e}(ly);function wy(t){return t._firestoreClient||Sy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Gm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Rm(t._credentials,t._queue,r)}function Ey(t,e,n){var r=this,i=new qf;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Pm(t,n)];case 1:return s.sent(),[4,Fm(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ku.FAILED_PRECONDITION||t.code===Ku.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ty(t){if(t._initialized||t._terminated)throw new Qu(Ku.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Oy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Cy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(bc.fromBase64String(e))}catch(e){throw new Qu(Ku.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(bc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Iy=function(t){this._methodName=t},Ay=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Qu(Ku.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Qu(Ku.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return oc(this._lat,t._lat)||oc(this._long,t._long)},t}(),xy=/^__.*__$/,ky=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new rh(t,this.data,this.fieldMask,e,this.fieldTransforms):new nh(t,this.data,e,this.fieldTransforms)},t}(),jy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new rh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Ny(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ec()}}var Dy=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Xy(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Ny(this.Nc)&&xy.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Ry=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Yp(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Dy({Nc:t,methodName:e,qc:n,path:yc.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Py(t){var e=t._freezeSettings(),n=Yp(t._databaseId);return new Ry(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);Wy("Data must be an object, but it was:",o,r);var a,u,c=Ky(r,o);if(s.merge)a=new vc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Yy(e,f[h],n);if(!o.contains(d))throw new Qu(Ku.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");tv(l,d)||l.push(d)}a=new vc(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new ky(new $c(c),a,u)}var Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Iy);function My(t,e,n){return new Dy({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){return new Gl(t.path,new Ml)},e.prototype.isEqual=function(t){return t instanceof e},e}(Iy),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=My(this,t,!0),n=this.Kc.map(function(t){return Gy(t,e)}),r=new Vl(n);return new Gl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Iy),qy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=My(this,t,!0),n=this.Kc.map(function(t){return Gy(t,e)}),r=new ql(n);return new Gl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Iy),By=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Hl(t.R,Dl(t.R,this.Qc));return new Gl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Iy);function Hy(t,e,n,r){var i=t.Uc(1,e,n);Wy("Data must be an object, but it was:",i,r);var s=[],o=$c.empty();fc(r,function(t,r){var a=Zy(e,t,n);r=Object(Fi.h)(r);var u=i.Oc(a);if(r instanceof Ly)s.push(a);else{var c=Gy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new vc(s);return new jy(o,a,i.fieldTransforms)}function zy(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Yy(e,r,n)],u=[i];if(s.length%2!=0)throw new Qu(Ku.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Yy(e,s[c])),u.push(s[c+1]);for(var l=[],h=$c.empty(),f=a.length-1;f>=0;--f)if(!tv(l,a[f])){var d=a[f],p=u[f];p=Object(Fi.h)(p);var g=o.Oc(d);if(p instanceof Ly)l.push(d);else{var m=Gy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new vc(l);return new jy(h,y,o.fieldTransforms)}function $y(t,e,n,r){return void 0===r&&(r=!1),Gy(n,t.Uc(r?4:3,e))}function Gy(t,e){if(Qy(t=Object(Fi.h)(t)))return Wy("Unsupported field value:",e,t),Ky(t,e);if(t instanceof Iy)return function(t,e){if(!Ny(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Gy(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Fi.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=cc.fromDate(t);return{timestampValue:qh(e.R,n)}}if(t instanceof cc)return n=new cc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:qh(e.R,n)};if(t instanceof Ay)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cy)return{bytesValue:Bh(e.R,t._byteString)};if(t instanceof hy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$h(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+oy(t))}(t,e)}function Ky(t,e){var n={};return dc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(t,function(t,r){var i=Gy(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Qy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof cc||t instanceof Ay||t instanceof Cy||t instanceof hy||t instanceof Iy)}function Wy(t,e,n){if(!Qy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=oy(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Yy(t,e,n){if((e=Object(Fi.h)(e))instanceof Oy)return e._internalPath;if("string"==typeof e)return Zy(t,e);throw Xy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Jy=new RegExp("[~\\*/\\[\\]]");function Zy(t,e,n){if(e.search(Jy)>=0)throw Xy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Oy.bind.apply(Oy,Object(Pi.f)([void 0],e.split(".")))))._internalPath}catch(tb){throw Xy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Xy(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Qu(Ku.INVALID_ARGUMENT,(a+=". ")+t+u)}function tv(t,e){return t.some(function(t){return t.isEqual(e)})}var ev=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new hy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new nv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(rv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ev);function rv(t,e){return"string"==typeof e?Zy(t,e):e instanceof Oy?e._internalPath:e._delegate._internalPath}var iv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),sv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Pi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(rv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ev),ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(sv),av=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new iv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ov(n._firestore,n._userDataWriter,r.key,r,new iv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qu(Ku.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ov(t._firestore,t._userDataWriter,e.doc.key,e.doc,new iv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ov(t._firestore,t._userDataWriter,e.doc.key,e.doc,new iv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:uv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function uv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ec()}}function cv(t,e){return t instanceof sv&&e instanceof sv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof av&&e instanceof av&&t._firestore===e._firestore&&yy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function lv(t){if(vl(t)&&0===t.explicitOrderBy.length)throw new Qu(Ku.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hv=function(){};function fv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=Py(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){_v(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(bv(r,t,l[c]));a={arrayValue:{values:u}}}else a=bv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_v(o,s),a=$y(n,"where",o,"in"===s||"not-in"===s);var h=Xc.create(i,s,a);return function(t,e){if(e.g()){var n=_l(t);if(null!==n&&!n.isEqual(e.field))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bl(t);null!==r&&wv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Qu(Ku.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new fy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(hv),pv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ll(e,n);return function(t,e){if(null===bl(t)){var n=_l(t);null!==n&&wv(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new fy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new pl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(hv),gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){return new fy(t.firestore,t.converter,Tl(t._query,this.Hc,this.Jc))},e}(hv),mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=vv(t,this.type,this.Yc,this.Xc);return new fy(t.firestore,t.converter,function(t,e){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(hv),yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=vv(t,this.type,this.Yc,this.Xc);return new fy(t.firestore,t.converter,function(t,e){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(hv);function vv(t,e,n,r){if(n[0]=Object(Fi.h)(n[0]),n[0]instanceof ev)return function(t,e,n,r,i){if(!r)throw new Qu(Ku.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Sl(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Mc(e,r.key));else{var c=r.data.field(u.field);if(Tc(c))throw new Qu(Ku.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new ul(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Py(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Qu(Ku.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!wl(t)&&-1!==c.indexOf("/"))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(gc.fromString(c));if(!kc.isDocumentKey(l))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new kc(l);a.push(Mc(e,h))}else{var f=$y(n,r,c);a.push(f)}}return new ul(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function bv(t,e,n){if("string"==typeof(n=Object(Fi.h)(n))){if(""===n)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(e)&&-1!==n.indexOf("/"))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gc.fromString(n));if(!kc.isDocumentKey(r))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mc(t,new kc(r))}if(n instanceof hy)return Mc(t,n._key);throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+oy(n)+".")}function _v(t,e){if(!Array.isArray(t)||0===t.length)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function wv(t,e,n){if(!n.isEqual(e))throw new Qu(Ku.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Sv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),jc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ec()}},t.prototype.convertObject=function(t,e){var n=this,r={};return fc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ay(Sc(t.latitude),Sc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Oc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Cc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=wc(t);return new cc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=gc.fromString(t);nc(yf(n));var r=new Km(n.get(1),n.get(3)),i=new kc(n.popFirst(5));return r.isEqual(e)||Zu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Ev(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Tv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new hy(this.firestore,null,e)},e}(Sv),Ov=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Py(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Cv(t,this._firestore),i=Ev(r.converter,e,n),s=Fy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ql.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Cv(t,this._firestore);return s="string"==typeof(e=Object(Fi.h)(e))||e instanceof Oy?zy(this._dataReader,"WriteBatch.update",o._key,e,n,r):Hy(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ql.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Cv(t,this._firestore);return this._mutations=this._mutations.concat(new ch(e._key,Ql.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Qu(Ku.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cv(t,e){if((t=Object(Fi.h)(t)).firestore!==e)throw new Qu(Ku.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Iv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new Cy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new hy(this.firestore,null,e)},e}(Sv);function Av(t,e,n){t=ay(t,hy);var r=ay(t.firestore,_y),i=Ev(t.converter,e,n);return jv(r,[Fy(Py(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ql.none())])}function xv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ay(t,hy);var s=ay(t.firestore,_y),o=Py(s);return jv(s,[("string"==typeof(e=Object(Fi.h)(e))||e instanceof Oy?zy(o,"updateDoc",t._key,e,n,r):Hy(o,"updateDoc",t._key,e)).toMutation(t._key,Ql.exists(!0))])}function kv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Fi.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||by(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(by(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof hy)c=ay(t.firestore,_y),l=ml(t._key.path),u={next:function(e){i[a]&&i[a](Nv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=ay(t,fy);c=ay(d.firestore,_y),l=d._query;var p=new Iv(c);u={next:function(t){i[a]&&i[a](new av(c,p,d,t))},error:i[a+1],complete:i[a+2]},lv(t._query)}return function(t,e,n,r){var i=this,s=new jm(r),o=new qg(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(i,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=Fg,[4,Hm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(i,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=Lg,[4,Hm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(wy(c),l,h,u)}function jv(t,e){return function(t,e){var n=this,r=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=Xg,[4,Bm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(wy(t),e)}function Nv(t,e,n){var r=n.docs.get(e._key),i=new Iv(t);return new sv(t,i,e._key,r,new iv(n.hasPendingWrites,n.fromCache),e.converter)}var Dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Pi.c)(e,t),e.prototype.get=function(e){var n=this,r=Cv(e,this._firestore),i=new Iv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new sv(n._firestore,i,r._key,t._document,new iv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Py(t)}return t.prototype.get=function(t){var e=this,n=Cv(t,this._firestore),r=new Tv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ec();var i=t[0];if(i.isFoundDocument())return new ev(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ev(e._firestore,r,n._key,null,n.converter);throw ec()})},t.prototype.set=function(t,e,n){var r=Cv(t,this._firestore),i=Ev(r.converter,e,n),s=Fy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Cv(t,this._firestore);return s="string"==typeof(e=Object(Fi.h)(e))||e instanceof Oy?zy(this._dataReader,"Transaction.update",o._key,e,n,r):Hy(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Cv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Rv(){if("undefined"==typeof Uint8Array)throw new Qu(Ku.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pv(){if("undefined"==typeof atob)throw new Qu(Ku.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Fv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Pv(),new t(Cy.fromBase64String(e))},t.fromUint8Array=function(e){return Rv(),new t(Cy.fromUint8Array(e))},t.prototype.toBase64=function(){return Pv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Rv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Lv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ty(t=ay(t,_y));var n=wy(t),r=t._freezeSettings(),i=new km;return Ey(n,i,new Am(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ty(t=ay(t,_y));var e=wy(t),n=t._freezeSettings(),r=new km;return Ey(e,r,new xm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Qu(Ku.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new qf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return zf.yt()?[4,zf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(ep(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Mv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Km||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Xu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=ay(t,ly))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Np.MOCK_USER;else{o=Object(Fi.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Qu(Ku.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Np(u)}t._credentials=new Jm(new Wm(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,Vm(t)];case 1:return e=r.sent(),[4,qm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=rc(t);return e.Or.delete(0),ig(e)}(n))]}})})})}(wy(ay(this._delegate,_y)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,Vm(t)];case 1:return e=r.sent(),[4,qm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return(e=rc(t)).Or.add(0),[4,sg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(wy(ay(this._delegate,_y)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ry("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return e=sm,[4,Bm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(wy(ay(this._delegate,_y)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new jm(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){rc(t).Gr.add(e),e.next()},[4,Hm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){rc(t).Gr.delete(e)},[4,Hm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(wy(t=ay(t,_y)),by(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Qu(Ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Zv(this,py(this._delegate,t))}catch(t){throw zv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Hv(this,gy(this._delegate,t))}catch(t){throw zv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Wv(this,function(t,e){if(t=ay(t,ly),ey("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fy(t,null,function(t){return new pl(gc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw zv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Mm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Dm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(wy(t),function(n){return e(new Dv(t,n))})}(this._delegate,function(n){return t(new Uv(e,n))})},t.prototype.batch=function(){var t=this;return wy(this._delegate),new qv(new Ov(this._delegate,function(e){return jv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Qu(Ku.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Qu(Ku.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Vv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new Fv(new Cy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Hv.eu(e,this.firestore,null)},e}(Sv),Uv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.prototype.get=function(t){var e=this,n=Xv(t);return this._delegate.get(n).then(function(t){return new Kv(e._firestore,new sv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Xv(t);return n?(ny("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Xv(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Xv(t);return this._delegate.delete(e),this},t}(),qv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Xv(t);return n?(ny("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Xv(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Xv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Bv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ov(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Vv(e),n),i.set(n,s)),s},t}();Bv.su=new WeakMap;var Hv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Qu(Ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new hy(n._delegate,r,new kc(e)))},t.eu=function(e,n,r){return new t(n,new hy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Zv(this.firestore,py(this._delegate,t))}catch(t){throw zv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Fi.h)(t))instanceof hy&&my(this._delegate,t)},t.prototype.set=function(t,e){e=ny("DocumentReference.set",e);try{return e?Av(this._delegate,t,e):Av(this._delegate,t)}catch(t){throw zv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xv(this._delegate,t):xv.apply(void 0,Object(Pi.f)([this._delegate,t,e],n))}catch(t){throw zv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return jv(ay((t=this._delegate).firestore,_y),[new ch(t._key,Ql.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$v(e),i=Gv(e,function(e){return new Kv(t.firestore,new sv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return kv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ay(t,hy);var e=ay(t.firestore,_y),n=wy(e),r=new Iv(e);return function(t,e){var n=this,r=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=rc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Qu(Ku.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=kg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Um(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new sv(e,r,t._key,n,new iv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ay(t,hy);var e=ay(t.firestore,_y);return zm(wy(e),t._key,{source:"server"}).then(function(n){return Nv(e,t,n)})}(this._delegate):function(t){t=ay(t,hy);var e=ay(t.firestore,_y);return zm(wy(e),t._key).then(function(n){return Nv(e,t,n)})}(this._delegate)).then(function(t){return new Kv(e.firestore,new sv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bv.nu(this.firestore,e):null))},t}();function zv(t,e,n){return t.message=t.message.replace(e,n),t}function $v(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!by(r))return r}return{}}function Gv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=by(t[0])?t[0]:by(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Kv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Hv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return cv(this._delegate,t._delegate)},t}(),Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Kv),Wv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,fv(this._delegate,function(t,e,n){var r=e,i=rv("where",t);return new dv(i,r,n)}(e,n,r)))}catch(e){throw zv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,fv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=rv("orderBy",t);return new pv(r,n)}(e,n)))}catch(e){throw zv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,fv(this._delegate,function(t){return uy("limit",t),new gv("limit",t,"F")}(e)))}catch(e){throw zv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,fv(this._delegate,function(t){return uy("limitToLast",t),new gv("limitToLast",t,"L")}(e)))}catch(e){throw zv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw zv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw zv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw zv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw zv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return yy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ay(t,fy);var e=ay(t.firestore,_y),n=wy(e),r=new Iv(e);return function(t,e){var n=this,r=new qf;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Pi.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,mp(t,e,!0)];case 1:return a=u.sent(),r=new Gg(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=kg(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Um(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new av(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ay(t,fy);var e=ay(t.firestore,_y),n=wy(e),r=new Iv(e);return $m(n,t._query,{source:"server"}).then(function(n){return new av(e,r,t,n)})}(this._delegate):function(t){t=ay(t,fy);var e=ay(t.firestore,_y),n=wy(e),r=new Iv(e);return lv(t._query),$m(n,t._query).then(function(n){return new av(e,r,t,n)})}(this._delegate)).then(function(t){return new Jv(e.firestore,new av(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$v(e),i=Gv(e,function(e){return new Jv(t.firestore,new av(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return kv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bv.nu(this.firestore,e):null))},t}(),Yv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Jv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Wv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Yv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qv(n._firestore,r))})},t.prototype.isEqual=function(t){return cv(this._delegate,t._delegate)},t}(),Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Hv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Hv(this.firestore,void 0===t?gy(this._delegate):gy(this._delegate,t))}catch(t){throw zv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ay(t.firestore,_y),r=gy(t),i=Ev(t.converter,e);return jv(n,[Fy(Py(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ql.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Hv(e.firestore,t)})},e.prototype.isEqual=function(t){return my(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Bv.nu(this.firestore,t):null))},e}(Wv);function Xv(t){return ay(t,hy)}var tb,eb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Oy.bind.apply(Oy,Object(Pi.f)([void 0],t)))}return t.documentId=function(){return new t(yc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Fi.h)(t))instanceof Oy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),nb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Vy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ly("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qy("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new By("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),rb=n("/6Yf"),ib={Firestore:Mv,GeoPoint:Ay,Timestamp:cc,Blob:Fv,Transaction:Uv,WriteBatch:qv,DocumentReference:Hv,DocumentSnapshot:Kv,Query:Wv,QueryDocumentSnapshot:Qv,QuerySnapshot:Jv,CollectionReference:Zv,FieldPath:eb,FieldValue:nb,setLogLevel:function(t){Wu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new rb.a("firestore",function(t){return function(t,e){return new Mv(t,new _y(t,e),new Lv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ib)))})(tb=Ri.a),tb.registerVersion("@firebase/firestore","2.4.1");var sb=n("VRyK"),ob=n("qgXg"),ab=n("Ylt2");class ub extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new cb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Et.a;if(this.isStopped||this.hasError?s=Te.a.EMPTY:(this.observers.push(t),s=new ab.a(this,t)),r&&t.add(t=new ji.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||ob.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class cb{constructor(t,e){this.time=t,this.value=e}}function lb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new ub(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function hb(t,e){return e?$t(()=>t,e):$t(()=>t)}var fb=n("tf+s");const db=new r.r("angularfire2.auth.use-emulator"),pb=new r.r("angularfire2.auth.settings"),gb=new r.r("angularfire2.auth.tenant-id"),mb=new r.r("angularfire2.auth.langugage-code"),yb=new r.r("angularfire2.auth.use-device-language"),vb=new r.r("angularfire.auth.persistence");let bb=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Ni.d(i),f=Object(Ni.h)(h),d=new St.a,p=Object(wt.a)(void 0).pipe(Object(ji.b)(h.outsideAngular),$t(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ht.a)(()=>Object(Ni.g)(t,i,e)),Object(Ht.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ni.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),lb({bufferSize:1,refCount:!1}));if(U(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(we()).subscribe();const t=p.pipe($t(t=>t.getRedirectResult().then(t=>t,()=>null)),f,lb({bufferSize:1,refCount:!1})),e=t=>new jt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe($t(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe($t(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(hb(n),Object(fb.a)(h.outsideAngular),Object(ji.b)(h.insideAngular)),this.user=t.pipe(hb(r),Object(fb.a)(h.outsideAngular),Object(ji.b)(h.insideAngular)),this.idToken=this.user.pipe($t(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe($t(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(sb.a)(t,d,this.authState.pipe(ne(t=>!t))).pipe(Object(Ht.a)(t=>(null==t?void 0:t.user)?t:null),Object(fb.a)(h.outsideAngular),Object(ji.b)(h.insideAngular))}return Object(Ni.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ni.c),r.Sb(Ni.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(db,8),r.Sb(pb,8),r.Sb(gb,8),r.Sb(mb,8),r.Sb(yb,8),r.Sb(vb,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Sb(Ni.c),r.Sb(Ni.b,8),r.Sb(r.C),r.Sb(r.A),r.Sb(db,8),r.Sb(pb,8),r.Sb(gb,8),r.Sb(mb,8),r.Sb(yb,8),r.Sb(vb,8))},token:t,providedIn:"any"}),t})();function _b(t,e){return function(t,e=Oi.a){return new jt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function wb(t,e){return _b(t,e).pipe(Object(Ht.a)(t=>({payload:t,type:"query"})))}function Sb(t,e){return wb(t,e).pipe(Zt(void 0),Ci(),Object(Ht.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Eb(t,e,n){return Sb(t,n).pipe(Xt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Tb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new xi(void 0,void 0)),Object(Ht.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Tb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ob(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ni.e)(bb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Cb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Sb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Zt(void 0),Ci(),ne(([t,e])=>e.length>0||!t),Object(Ht.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ob(t);return Eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(ji.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ib(this.ref.doc(t),this.afs)}}class Ib{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Db(n,e);return new Cb(r,i,this.afs)}snapshotChanges(){return _b(this.ref,this.afs.schedulers.outsideAngular).pipe(Zt(void 0),Ci(),Object(Ht.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ht.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(ji.b)(this.afs.schedulers.insideAngular))}}class Ab{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Sb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):Sb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ob(t);return Eb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(ji.b)(this.afs.schedulers.insideAngular))}}const xb=new r.r("angularfire2.enableFirestorePersistence"),kb=new r.r("angularfire2.firestore.persistenceSettings"),jb=new r.r("angularfire2.firestore.settings"),Nb=new r.r("angularfire2.firestore.use-emulator");function Db(t,e=(t=>t)){return{query:e(t),ref:t}}let Rb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Ni.d(s),this.keepUnstableUntilFirst=Object(Ni.h)(this.schedulers);const c=Object(Ni.g)(t,s,e);!Di.a.auth&&u&&Object(Ni.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ni.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!U(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(tb){return"undefined"!=typeof console&&console.warn(tb),Object(wt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Db(n,e),s=this.schedulers.ngZone.run(()=>r);return new Cb(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Ab(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Ib(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ni.c),r.Sb(Ni.b,8),r.Sb(xb,8),r.Sb(jb,8),r.Sb(r.C),r.Sb(r.A),r.Sb(kb,8),r.Sb(Nb,8),r.Sb(db,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Sb(Ni.c),r.Sb(Ni.b,8),r.Sb(xb,8),r.Sb(jb,8),r.Sb(r.C),r.Sb(r.A),r.Sb(kb,8),r.Sb(Nb,8),r.Sb(db,8))},token:t,providedIn:"any"}),t})(),Pb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:xb,useValue:!0},{provide:kb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Rb]}),t})(),Fb=(()=>{class t{constructor(t){this._client=t}getAll(t){return this._client.collection("employees",t=>t.orderBy("department.id")).valueChanges({idField:"id"}).pipe(Object(Ht.a)(e=>((t,e)=>{if(void 0===e)return t;const n=Object.keys(e);return t.filter(t=>{return r=t,i=e,void 0===n.find(t=>r[t]!==i[t]);var r,i})})(e,t)))}add(t){this._client.collection("employees").add(t)}getOne(t){return this._client.doc("employees/"+t).valueChanges({idField:"id"})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Rb))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Lb=new r.r("GETS_ALL_EMPLOYEE_DTO"),Mb=new r.r("ADDS_EMPLOYEE_DTO"),Vb=new r.r("GETS_ONE_EMPLOYEE_DTO");let Ub=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Fb,{provide:Lb,useExisting:Fb},{provide:Mb,useExisting:Fb},{provide:Vb,useExisting:Fb}],imports:[[Pb]]}),t})();var qb=n("XoHu");function Bb(t,e){return new jt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Hb{}const zb=new r.r("NgValueAccessor"),$b={provide:zb,useExisting:Object(r.U)(()=>Kb),multi:!0},Gb=new r.r("CompositionEventMode");let Kb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(Gb,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([$b])]}),t})();const Qb=new r.r("NgValidators"),Wb=new r.r("NgAsyncValidators");function Yb(t){return null!=t}function Jb(t){const e=Object(r.sb)(t)?Object(_t.a)(t):t;return Object(r.rb)(e),e}function Zb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Xb(t,e){return e.map(e=>e(t))}function t_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function e_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Yb);return 0==e.length?null:function(t){return Zb(Xb(t,e))}}(t_(t)):null}function n_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Yb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return Bb(e,null);if(Object(qb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Bb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Bb(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(Ht.a)(t=>e(...t)))}return Bb(t,null)}(Xb(t,e).map(Jb)).pipe(Object(Ht.a)(Zb))}}(t_(t)):null}function r_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function i_(t){return t._rawValidators}function s_(t){return t._rawAsyncValidators}let o_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=e_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=n_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),a_=(()=>{class t extends o_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return u_(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const u_=r.Qb(a_);class c_ extends o_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class l_{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let h_=(()=>{class t extends l_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(c_,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),f_=(()=>{class t extends l_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(a_,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function d_(t,e){m_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&v_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&v_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function p_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),y_(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function g_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m_(t,e,n){const r=i_(t);null!==e.validator?t.setValidators(r_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=s_(t);if(null!==e.asyncValidator?t.setAsyncValidators(r_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();g_(e._rawValidators,n),g_(e._rawAsyncValidators,n)}}function y_(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=i_(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=s_(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};g_(e._rawValidators,t),g_(e._rawAsyncValidators,t)}return r}function v_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function b_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const __="VALID",w_="INVALID",S_="PENDING",E_="DISABLED";function T_(t){return(A_(t)?t.validators:t)||null}function O_(t){return Array.isArray(t)?e_(t):t||null}function C_(t,e){return(A_(e)?e.asyncValidators:t)||null}function I_(t){return Array.isArray(t)?n_(t):t||null}function A_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class x_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=O_(this._rawValidators),this._composedAsyncValidatorFn=I_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===__}get invalid(){return this.status===w_}get pending(){return this.status==S_}get disabled(){return this.status===E_}get enabled(){return this.status!==E_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=O_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=I_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=S_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=E_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=__,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==__&&this.status!==S_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E_:__}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=S_,this._hasOwnPendingAsyncValidator=!0;const e=Jb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof j_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof N_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?E_:this.errors?w_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(S_)?S_:this._anyControlsHaveStatus(w_)?w_:__}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class k_ extends x_{constructor(t=null,e,n){super(T_(e),C_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){b_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){b_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class j_ extends x_{constructor(t,e,n){super(T_(e),C_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof k_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class N_ extends x_{constructor(t,e,n){super(T_(e),C_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof k_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let D_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const R_={provide:zb,useExisting:Object(r.U)(()=>P_),multi:!0};let P_=(()=>{class t extends Hb{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Ab([R_]),r.yb]}),t})(),F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const L_=new r.r("NgModelWithFormControlWarning"),M_={provide:a_,useExisting:Object(r.U)(()=>V_)};let V_=(()=>{class t extends a_{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(y_(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return d_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){p_(t.control||null,t,!1),b_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(p_(e||null,t),n instanceof k_&&(d_(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){m_(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return y_(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){m_(this.form,this,!1),this._oldForm&&y_(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qb,10),r.Lb(Wb,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([M_]),r.yb,r.zb]}),t})();const U_={provide:c_,useExisting:Object(r.U)(()=>q_)};let q_=(()=>{class t extends c_{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Kb?n=t:Object.getPrototypeOf(t.constructor)===Hb?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(a_,13),r.Lb(Qb,10),r.Lb(Wb,10),r.Lb(zb,10),r.Lb(L_,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([U_]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})(),B_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[F_]]}),t})(),H_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:L_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[B_]}),t})(),z_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,H_]]}),t})(),$_=(()=>{class t extends ub{}return t.\u0275fac=function(e){return G_(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const G_=r.Qb($_),K_=new r.r("CONTEXT_DTO_STORAGE");let Q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[$_,{provide:K_,useExisting:$_}],imports:[[]]}),t})(),W_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,fi.forChild([{path:"",component:wi}]),Ei,Ti,Ub]]}),t})();function Y_(t,e){if(1&t&&(r.Ob(0,"div",7),r.Ob(1,"div",8),r.Mb(2,"img",9),r.Ob(3,"div",10),r.Ob(4,"p",11),r.gc(5),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.Bb(2),r.ac("src",t.imgSrc,r.dc)("alt",t.id),r.Bb(3),r.hc(t.text)}}let J_=(()=>{class t{constructor(){this.cards$=Object(wt.a)([{id:"1",imgSrc:"https://fj-employer-blog.s3.amazonaws.com/employer-blog/wp-content/uploads/2015/11/5-Ways-to-Analyze-Employee-Performance-1024x508.jpg",text:"Manager"},{id:"2",imgSrc:"https://fj-employer-blog.s3.amazonaws.com/employer-blog/wp-content/uploads/2015/11/5-Ways-to-Analyze-Employee-Performance-1024x508.jpg",text:"IT Support"},{id:"3",imgSrc:"https://fj-employer-blog.s3.amazonaws.com/employer-blog/wp-content/uploads/2015/11/5-Ways-to-Analyze-Employee-Performance-1024x508.jpg",text:"Developer"}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-about-us"]],decls:10,vars:3,consts:[[1,"container-fluid","mx-auto"],[1,"lh-base","text-center"],[1,"container","mx-auto","d-flex","justify-content-around",2,"width","95%"],[1,"grid"],["class","g-col-12 g-col-md-6 g-col-lg-4",4,"ngFor","ngForOf"],[1,"container-fluid","mx-auto",2,"width","70%"],[1,"lh-base"],[1,"g-col-12","g-col-md-6","g-col-lg-4"],[1,"card",2,"width","13rem"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-text","text-center"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h3",1),r.gc(2,"Najpopularniejsze stanowiska w firmie"),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"div",3),r.fc(5,Y_,6,3,"div",4),r.Yb(6,"async"),r.Nb(),r.Nb(),r.Ob(7,"div",5),r.Ob(8,"p",6),r.gc(9," Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam quibusdam commodi illo sequi in exercitationem esse autem, voluptatem hic dolor quod quos dolorum nobis officia delectus pariatur ex ut perspiciatis. Quae consequatur nihil minus deserunt voluptate natus consectetur, cupiditate quia molestiae repellendus, cumque maiores minima quasi consequuntur. Perspiciatis sunt distinctio praesentium! Laborum maxime esse praesentium dolorum tempore, quaerat excepturi iure. Eveniet libero assumenda reiciendis, adipisci tempora ratione cupiditate. Velit itaque quas eligendi fuga voluptatem consequuntur quaerat doloremque sint nostrum nihil, esse laboriosam, dolorem quia corporis iure rem nobis sapiente magnam! Necessitatibus, quos modi unde esse voluptatem accusantium, eum vel deserunt dicta magni tempore fuga ex quibusdam ea? Quo officiis quos id doloribus labore, nam odit, quas incidunt maxime esse aspernatur? "),r.Nb(),r.Nb()),2&t&&(r.Bb(5),r.ac("ngForOf",r.Zb(6,1,e.cards$)))},directives:[x],pipes:[M],encapsulation:2,changeDetection:0}),t})(),Z_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-about-page"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"lib-about-us")},directives:[J_],encapsulation:2,changeDetection:0}),t})(),X_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,fi.forChild([{path:"",component:Z_}]),Ti]]}),t})();function tw(t,e){if(1&t&&(r.Ob(0,"div",1),r.Mb(1,"img",2),r.Ob(2,"div",3),r.Ob(3,"h5",4),r.gc(4),r.Nb(),r.Ob(5,"p",5),r.gc(6),r.Nb(),r.Nb(),r.Ob(7,"ul",6),r.Ob(8,"li",7),r.gc(9),r.Nb(),r.Ob(10,"li",7),r.gc(11),r.Nb(),r.Nb(),r.Ob(12,"div",3),r.Ob(13,"p",8),r.gc(14,"Email: test@test.com"),r.Nb(),r.Ob(15,"p",9),r.gc(16,"Tel: 000 000 000"),r.Nb(),r.Ob(17,"p",9),r.gc(18,"Github: https://github.com/"),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.ngIf;r.Bb(1),r.ac("src",t.imageURL,r.dc),r.Bb(3),r.hc(t.department.name),r.Bb(2),r.ic(" ",t.age," "),r.Bb(3),r.hc(t.country.name),r.Bb(2),r.hc(t.bio)}}let ew=(()=>{class t{constructor(t,e){this._getsOneEmployeeDto=t,this._contextDtoStoragePort=e,this.employee$=this._contextDtoStoragePort.asObservable().pipe($t(t=>this._getsOneEmployeeDto.getOne(t.employeeId)))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Vb),r.Lb(K_))},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-employee-details"]],decls:2,vars:3,consts:[["class","card w-75 mx-5",4,"ngIf"],[1,"card","w-75","mx-5"],["alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"fs-6"],[1,"p-0","fs-6"]],template:function(t,e){1&t&&(r.fc(0,tw,19,5,"div",0),r.Yb(1,"async")),2&t&&r.ac("ngIf",r.Zb(1,1,e.employee$))},directives:[j],pipes:[M],encapsulation:2,changeDetection:0}),t})();function nw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"h5",4),r.gc(5),r.Nb(),r.Ob(6,"p",5),r.gc(7),r.Nb(),r.Nb(),r.Ob(8,"div",3),r.Ob(9,"a",6),r.Vb("click",function(){r.cc(t);const n=e.$implicit;return r.Xb().onEmployeeClicked(n)}),r.gc(10,"View"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.Bb(5),r.hc(t.department.name),r.Bb(2),r.ic(" ",t.bio," ")}}let rw=(()=>{class t{constructor(t,e){this._getsAllEmployeeDto=t,this._contextDtoStorage=e,this.employees$=this._getsAllEmployeeDto.getAll()}onEmployeeClicked(t){this._contextDtoStorage.next({employeeId:t.id})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Lb),r.Lb(K_))},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-employees"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"card","text-center","w-75","mx-auto","border-info","mb-3"],[1,"card-body","grid","justify-content-center"],[1,"g-col-12","g-col-md-6"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","mt-2",3,"click"]],template:function(t,e){1&t&&(r.fc(0,nw,11,2,"div",0),r.Yb(1,"async")),2&t&&r.ac("ngForOf",r.Zb(1,1,e.employees$))},directives:[x],pipes:[M],encapsulation:2,changeDetection:0}),t})(),iw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-employees-page"]],decls:5,vars:0,consts:[[1,"grid","w-75","mx-auto"],[1,"g-col-12","grid-col-fixed-100","g-col-md-4","w-100"],[1,"g-col-12","g-col-md-8","w-100"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Mb(2,"lib-employee-details"),r.Nb(),r.Ob(3,"div",2),r.Mb(4,"lib-employees"),r.Nb(),r.Nb())},directives:[ew,rw],encapsulation:2,changeDetection:0}),t})(),sw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[fi.forChild([{path:"",component:iw}]),V,Ub,Ei,Si]]}),t})();const ow=new r.r("ADDS_MESSAGE_DTO");let aw=(()=>{class t{constructor(t){this._addsMessageDto=t,this.messageForm=new j_({email:new k_,text:new k_})}onMessageFormSubmited(t){t.invalid||(this._addsMessageDto.add({email:t.get("email").value,text:t.get("text").value}),this.messageForm.reset())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ow))},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-contact-form"]],decls:6,vars:1,consts:[[1,"text-center"],[1,"d-flex","justify-content-center",3,"formGroup","ngSubmit"],["type","text","formControlName","email","placeholder","Email"],["type","text","formControlName","text","placeholder","Text"],["type","submit","value","Submit"]],template:function(t,e){1&t&&(r.Ob(0,"h3",0),r.gc(1,"Hello Contact"),r.Nb(),r.Ob(2,"form",1),r.Vb("ngSubmit",function(){return e.onMessageFormSubmited(e.messageForm)}),r.Mb(3,"input",2),r.Mb(4,"input",3),r.Mb(5,"input",4),r.Nb()),2&t&&(r.Bb(2),r.ac("formGroup",e.messageForm))},directives:[D_,f_,V_,Kb,h_,q_],encapsulation:2,changeDetection:0}),t})(),uw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-contact-us-page"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"lib-contact-form")},directives:[aw],encapsulation:2,changeDetection:0}),t})(),cw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,H_]]}),t})(),lw=(()=>{class t{constructor(t){this._client=t}add(t){this._client.collection("messages").add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Rb))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[lw,{provide:ow,useExisting:lw}],imports:[[Pb]]}),t})(),fw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,fi.forChild([{path:"",component:uw}]),cw,Ni.a,cw,hw]]}),t})(),dw=(()=>{class t{constructor(t){this._addsEmployeeDto=t,this.createEmployee=new j_({bio:new k_,age:new k_,imageURL:new k_,countryId:new k_,countryName:new k_,departmentId:new k_,departmentName:new k_,departmentEmployeeCount:new k_})}onCreateEmployeeSubmited(t){t.invalid||(this._addsEmployeeDto.add({bio:t.get("bio").value,age:t.get("age").value,imageURL:t.get("imageURL").value,country:{id:t.get("countryId").value,name:t.get("countryId").value},department:{id:t.get("departmentId").value,name:t.get("departmentName").value,employeeCount:t.get("departmentEmployeeCount").value}}),this.createEmployee.reset())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Mb))},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-create-employee"]],decls:14,vars:1,consts:[[1,"text-center"],[1,"grid"],[1,"g-col-4","g-start-6","w-25"],[3,"formGroup","ngSubmit"],["type","text","formControlName","bio","placeholder","Bio"],["type","number","formControlName","age","placeholder","Age"],["type","text","formControlName","countryId","placeholder","CountryId"],["type","text","formControlName","countryName","placeholder","Country.Name"],["type","text","formControlName","departmentId","placeholder","Department.Id"],["type","text","formControlName","departmentName","placeholder","Department.Name"],["type","number","formControlName","departmentEmployeeCount","placeholder","Department.Employee Count"],["type","text","formControlName","imageURL","placeholder","imageURL"],["type","submit","value","Submit"]],template:function(t,e){1&t&&(r.Ob(0,"h2",0),r.gc(1,"Create Employee Component"),r.Nb(),r.Ob(2,"div",1),r.Ob(3,"div",2),r.Ob(4,"form",3),r.Vb("ngSubmit",function(){return e.onCreateEmployeeSubmited(e.createEmployee)}),r.Mb(5,"input",4),r.Mb(6,"input",5),r.Mb(7,"input",6),r.Mb(8,"input",7),r.Mb(9,"input",8),r.Mb(10,"input",9),r.Mb(11,"input",10),r.Mb(12,"input",11),r.Mb(13,"input",12),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(4),r.ac("formGroup",e.createEmployee))},directives:[D_,f_,V_,Kb,h_,q_,P_],encapsulation:2,changeDetection:0}),t})(),pw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-admin-page"]],decls:3,vars:0,consts:[[1,"text-center"]],template:function(t,e){1&t&&(r.Ob(0,"h1",0),r.gc(1,"AdminPage"),r.Nb(),r.Mb(2,"lib-create-employee"))},directives:[dw],encapsulation:2,changeDetection:0}),t})(),gw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,z_,Ni.a,Ub,fi.forChild([{path:"",component:pw}])]]}),t})();const mw=[{path:"",loadChildren:()=>W_},{path:"about",loadChildren:()=>X_},{path:"pracownik",loadChildren:()=>sw},{path:"kontakt",loadChildren:()=>fw},{path:"admin",loadChildren:()=>gw}];let yw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[fi.forRoot(mw)],fi]}),t})();function vw(t,e){if(1&t&&(r.Ob(0,"li",6),r.Ob(1,"a",7),r.gc(2),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.Bb(1),r.ac("routerLink",t.link),r.Bb(1),r.hc(t.name)}}let bw=(()=>{class t{constructor(){this.links$=Object(wt.a)([{name:"HOME",link:"/"},{name:"ABOUT",link:"about"},{name:"EMPLOYEES",link:"pracownik"},{name:"KONTAKT",link:"kontakt"},{name:"ADMIN",link:"admin"}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["lib-navbar"]],decls:8,vars:3,consts:[[1,"navbar","navbar-dark","bg-warning","rounded-bottom",".mt-0","mx-auto","mb-3","d-flex","justify-content-center","w-75"],["type","checkbox","id","checkbox1",1,"d-none"],["for","checkbox1"],[1,"menu","menu-sm","demo","p-0","m-0","d-flex","justify-content-around","align-items-center","vw-75"],["class","nav-link",4,"ngFor","ngForOf"],[1,"toggle","d-block","d-sm-none","fs-3","d-flex","align-items-center","justify-content-center","rounded","mx-auto","mt-1","w-25"],[1,"nav-link"],[1,"menu-link","text-decoration-none","fs-6","rounded","p-2","text-white",3,"routerLink"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Mb(1,"input",1),r.Ob(2,"label",2),r.Ob(3,"ul",3),r.fc(4,vw,3,2,"li",4),r.Yb(5,"async"),r.Nb(),r.Ob(6,"span",5),r.gc(7,"\u2630"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(4),r.ac("ngForOf",r.Zb(5,1,e.links$)))},directives:[x,ti],pipes:[M],encapsulation:2,changeDetection:0}),t})(),_w=(()=>{class t{constructor(){this.title="todo-training"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Mb(1,"lib-navbar"),r.Mb(2,"router-outlet"),r.Nb())},directives:[bw,ni],styles:[""]}),t})();class ww{}const Sw="*";function Ew(t,e=null){return{type:2,steps:t,options:e}}function Tw(t){return{type:6,styles:t,offset:null}}function Ow(t){Promise.resolve(null).then(t)}class Cw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ow(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Iw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ow(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Aw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xw(t){switch(t.length){case 0:return new Cw;case 1:return t[0];default:return new Iw(t)}}function kw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Sw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function jw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Nw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Nw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Nw(n,"destroy",t)))}}function Nw(t,e,n){const r=n.totalTime,i=Dw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Dw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Rw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Pw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Fw=(t,e)=>!1,Lw=(t,e)=>!1,Mw=(t,e,n)=>[];const Vw=Aw();(Vw||"undefined"!=typeof Element)&&(Fw=(t,e)=>t.contains(e),Lw=(()=>{if(Vw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Lw}})(),Mw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Uw=null,qw=!1;function Bw(t){Uw||(Uw=("undefined"!=typeof document?document.body:null)||{},qw=!!Uw.style&&"WebkitAppearance"in Uw.style);let e=!0;return Uw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Uw.style,!e&&qw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Uw.style),e}const Hw=Lw,zw=Fw,$w=Mw;function Gw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Kw=(()=>{class t{validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Cw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Qw=(()=>{class t{}return t.NOOP=new Kw,t})();const Ww="ng-enter",Yw="ng-leave",Jw="ng-trigger",Zw=".ng-trigger",Xw="ng-animating",tS=".ng-animating";function eS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nS(parseFloat(e[1]),e[2])}function nS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function rS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=nS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=nS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function iS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function sS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else iS(t,n);return n}function oS(t,e,n){return n?e+":"+n+";":""}function aS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=oS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=oS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function uS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=mS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Aw()&&aS(t))}function cS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=mS(e);t.style[n]=""}),Aw()&&aS(t))}function lS(t){return Array.isArray(t)?1==t.length?t[0]:Ew(t):t}const hS=new RegExp("{{\\s*(.+?)\\s*}}","g");function fS(t){let e=[];if("string"==typeof t){let n;for(;n=hS.exec(t);)e.push(n[1]);hS.lastIndex=0}return e}function dS(t,e,n){const r=t.toString(),i=r.replace(hS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function pS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const gS=/-+([a-z0-9])/g;function mS(t){return t.replace(gS,(...t)=>t[1].toUpperCase())}function yS(t,e){return 0===t||0===e}function vS(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=_S(t,e)})}}return e}function bS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function _S(t,e){return window.getComputedStyle(t)[e]}const wS="*";function SS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(OS(i,o)),"<"!=s[0]||i==wS&&o==wS||e.push(OS(o,i))}(t,n,e)):n.push(t),n}const ES=new Set(["true","1"]),TS=new Set(["false","0"]);function OS(t,e){const n=ES.has(t)||TS.has(t),r=ES.has(e)||TS.has(e);return(i,s)=>{let o=t==wS||t==i,a=e==wS||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ES.has(t):TS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ES.has(e):TS.has(e)),o&&a}}const CS=new RegExp("s*:selfs*,?","g");function IS(t,e,n){return new AS(t).build(e,n)}class AS{constructor(t){this._driver=t}build(t,e){const n=new xS(e);return this._resetContextStyleTimingState(n),bS(this,lS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(kS(t)){const e=t;Object.keys(e).forEach(t=>{fS(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=pS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=bS(this,lS(t.animation),e);return{type:1,matchers:SS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>bS(this,t,e)),options:jS(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=bS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:jS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return NS(rS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=NS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||rS(r,e),NS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Tw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Tw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Sw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(kS(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=fS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(kS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(kS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:bS(this,lS(t.animation),e),options:jS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(CS,"")),[t=t.replace(/@\*/g,Zw).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,tS),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Rw(e.collectedStyles,e.currentQuerySelector,{});const o=bS(this,lS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:jS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:rS(t.timings,e.errors,!0);return{type:12,animation:bS(this,lS(t.animation),e),timings:n,options:null}}}class xS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kS(t){return!Array.isArray(t)&&"object"==typeof t}function jS(t){var e;return t?(t=iS(t)).params&&(t.params=(e=t.params)?iS(e):null):t={},t}function NS(t,e,n){return{duration:t,delay:e,easing:n}}function DS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class RS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const PS=new RegExp(":enter","g"),FS=new RegExp(":leave","g");function LS(t,e,n,r,i,s={},o={},a,u,c=[]){return(new MS).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class MS{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new RS;const l=new US(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),bS(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[DS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?eS(n.duration):null,s=null!=n.delay?eS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),bS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VS);const t=eS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>bS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?eS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),bS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return rS(e.params?dS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?eS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=VS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),bS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;bS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const VS={};class US{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new qS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=eS(n.duration)),null!=n.delay&&(r.delay=eS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=dS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new US(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=VS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new BS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(PS,"."+this._enterClassName)).replace(FS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class qS{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Sw,this._currentKeyframe[t]=Sw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Sw})):sS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=dS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Sw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=sS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Sw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?pS(t.values()):[],s=e.size?pS(e.values()):[];if(n){const t=r[0],e=iS(t);t.offset=0,e.offset=1,r=[t,e]}return DS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class BS extends qS{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=sS(t[0],!1);a.offset=0,i.push(a);const u=sS(t[0],!1);u.offset=HS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=sS(t[r],!1);o.offset=HS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return DS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function HS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class zS{}class $S extends zS{normalizePropertyName(t,e){return mS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(GS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const GS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function KS(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const QS={};class WS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||QS,f=this.buildStyles(n,o&&o.params||QS,l),d=a&&a.params||QS,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:LS(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return KS(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Rw(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Rw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=pS(g.values());return KS(e,this._triggerName,n,r,v,f,p,_,S,m,y,w)}}class YS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=iS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=dS(s,r,e)),n[t]=s})}}),n}}class JS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new YS(t.style,t.options&&t.options.params||{})}),ZS(this.states,"true","1"),ZS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WS(t,e,this.states))}),this.fallbackTransition=new WS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ZS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const XS=new RS;class tE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=IS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=kw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=LS(this._driver,e,i,Ww,Yw,{},{},n,XS,r),s.forEach(t=>{const e=Rw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Sw)})});const a=xw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Dw(e,"","","");return jw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eE="ng-animate-queued",nE="ng-animate-disabled",rE=".ng-animate-disabled",iE=[],sE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class aE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=iS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const uE="void",cE=new aE(uE);class lE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Rw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Rw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(yE(t,Jw),yE(t,"ng-trigger-"+e),a[e]=cE),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new fE(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(yE(t,Jw),yE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new aE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=cE),u.value!==uE&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{cS(t,n),uS(t,r)})}return}const c=Rw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(yE(t,eE),s.onStart(()=>{vE(t,eE)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Zw,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,uE,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&xw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||cE,a=new aE(uE),u=new fE(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==sE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){yE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Dw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,jw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class hE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new lE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(dE(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!dE(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yE(t,nE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vE(t,nE))}removeNode(t,e,n,r){if(dE(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return dE(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Zw,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,tS,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=sE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,rE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,rE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)yE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new RS,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=mE(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Ww+p++;d.set(e,n),t.forEach(t=>yE(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=mE(h,Array.from(m));b.forEach((t,e)=>{const n=Yw+p++;v.set(e,n),t.forEach(t=>yE(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>vE(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>vE(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>cS(i,p.fromStyles)),e.onDestroy(()=>uS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>cS(i,p.fromStyles)),e.onDestroy(()=>uS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Rw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Rw(S,e,[]).push(t),t.destroy()})});const T=g.filter(t=>wE(t,a,u)),O=new Map;gE(O,this.driver,y,u,Sw).forEach(t=>{wE(t,a,u)&&T.push(t)});const C=new Map;f.forEach((t,e)=>{gE(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=O.get(t),n=C.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>uS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,C,O);if(s.setRealPlayer(n),t===x)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=xw(e)),r.push(s)}}else cS(e,o.fromStyles),s.onDestroy(()=>uS(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=xw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(vE(t,Yw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,tS,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?bE(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==uE;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Rw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}cS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Cw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return _E(t,e),e}((n.get(h)||iE).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=kw(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new fE(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Rw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>yE(t,Xw));const f=xw(h);return f.onDestroy(()=>{c.forEach(t=>vE(t,Xw)),uS(a,e.toStyles)}),l.forEach(t=>{Rw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Cw(t.duration,t.delay)}}class fE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Cw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>jw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Rw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dE(t){return t&&1===t.nodeType}function pE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function gE(t,e,n,r,i){const s=[];n.forEach(t=>s.push(pE(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=oE,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>pE(t,s[a++])),o}function mE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function yE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vE(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bE(t,e,n){xw(n).onDone(()=>t.processLeaveNode(e))}function _E(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Iw?_E(r.players,e):e.push(r)}}function wE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class SE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new hE(t,e,n),this._timelineEngine=new tE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=IS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new JS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Pw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Pw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function EE(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=OE(e[0]),e.length>1&&(r=OE(e[e.length-1]))):e&&(n=OE(e)),n||r?new TE(t,n,r):null}let TE=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&uS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uS(this._element,this._initialStyles),this._endStyles&&(uS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(cS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cS(this._element,this._endStyles),this._endStyles=null),uS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function OE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];CE(i)&&(e=e||{},e[i]=t[i])}return e}function CE(t){return"display"===t||"position"===t}const IE="animation",AE="animationend";class xE{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=PE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),RE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),DE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kE(this._element,this._name,"paused")}resume(){kE(this._element,this._name,"running")}setPosition(t){const e=jE(this._element,this._name);this._position=t*this._duration,RE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),DE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=PE(t,"").split(","),r=NE(n,e);r>=0&&(n.splice(r,1),RE(t,"",n.join(",")))}(this._element,this._name))}}function kE(t,e,n){RE(t,"PlayState",n,jE(t,e))}function jE(t,e){const n=PE(t,"");return n.indexOf(",")>0?NE(n.split(","),e):NE([n],e)}function NE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function DE(t,e,n){n?t.removeEventListener(AE,e):t.addEventListener(AE,e)}function RE(t,e,n,r){const i=IE+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function PE(t,e){return t.style[IE+e]||""}class FE{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new xE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:_S(this.element,n))})}this.currentSnapshot=t}}class LE extends Cw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Gw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ME{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Gw(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof FE),u={};yS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vS(t,e,u));if(0==n)return new LE(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=EE(t,e),d=new FE(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class VE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:_S(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class UE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qE().toString()),this._cssKeyframesDriver=new ME}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof VE);yS(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=EE(t,e=vS(t,e=e.map(t=>sS(t,!1)),u));return new VE(t,e,a,l)}}function qE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let BE=(()=>{class t extends ww{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ew(t):t;return $E(this._renderer,null,e,"register",[n]),new HE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.F),r.Sb(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class HE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zE(this._id,t,e||{},this._renderer)}}class zE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $E(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function $E(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const GE="@",KE="@.disabled";let QE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new WE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new YE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.F),r.Sb(SE),r.Sb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class WE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==GE&&e==KE?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class YE extends WE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==GE?"."==e.charAt(1)&&e==KE?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==GE){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=GE&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let JE=(()=>{class t extends SE{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(o),r.Sb(Qw),r.Sb(zS))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ZE=[{provide:Qw,useFactory:function(){return"function"==typeof qE()?new UE:new ME}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:ww,useClass:BE},{provide:zS,useFactory:function(){return new $S}},{provide:SE,useClass:JE},{provide:r.F,useFactory:function(t,e,n){return new QE(t,e,n)},deps:[ot,SE,r.A]}];let XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:ZE,imports:[bt]}),t})(),tT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[],imports:[[V,yw]]}),t})();const eT={apiKey:"AIzaSyA30l6oabP0G2Hsst3Fzg2pX1fvryMazAM",authDomain:"todo-training-42f88.firebaseapp.com",projectId:"todo-training-42f88",storageBucket:"todo-training-42f88.appspot.com",messagingSenderId:"875546711911",appId:"1:875546711911:web:50d7d093a9e3f8d57d81c2"};let nT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[_w]}),t.\u0275inj=r.Ib({providers:[],imports:[[bt,yw,XE,tT,Ni.a.initializeApp(eT),Q_]]}),t})();Object(r.T)(),yt().bootstrapModule(nT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);